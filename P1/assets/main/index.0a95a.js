window.__require=function e(t,o,n){function r(c,i){if(!o[c]){if(!t[c]){var s=c.split("/");if(s=s[s.length-1],!t[s]){var l="function"==typeof __require&&__require;if(!i&&l)return l(s,!0);if(a)return a(s,!0);throw new Error("Cannot find module '"+c+"'")}c=s}var u=o[c]={exports:{}};t[c][0].call(u.exports,function(e){return r(t[c][1][e]||e)},u,u.exports,e,t,o,n)}return o[c].exports}for(var a="function"==typeof __require&&__require,c=0;c<n.length;c++)r(n[c]);return r}({ButtonBackMain:[function(e,t,o){"use strict";cc._RF.push(t,"4b6e9vf7W5OSonyZe1lxARt","ButtonBackMain");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var r,a=arguments.length,c=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,n);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(c=(a<3?r(c):a>3?r(t,o,c):r(t,o))||c);return a>3&&c&&Object.defineProperty(t,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=e("../Game"),i=cc._decorator,s=i.ccclass,l=(i.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.bcakMain=function(){c.default.sceneManager.loadScene(c.default.SCENE_NAME.MAIN)},a([s],t)}(cc.Component));o.default=l,cc._RF.pop()},{"../Game":"Game"}],DataManager:[function(e,t,o){"use strict";cc._RF.push(t,"8610alryK5M7IuqZ48vbl82","DataManager");var n=this&&this.__decorate||function(e,t,o,n){var r,a=arguments.length,c=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,n);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(c=(a<3?r(c):a>3?r(t,o,c):r(t,o))||c);return a>3&&c&&Object.defineProperty(t,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../framework/localStorage"),a=cc._decorator,c=a.ccclass,i=(a.property,function(){function e(){}return Object.defineProperty(e,"userLoginDate",{get:function(){return r.default.getLocalItem("userLoginDate",0)},set:function(e){r.default.setLocalItem("userLoginDate",e)},enumerable:!1,configurable:!0}),Object.defineProperty(e,"userLessonData",{get:function(){return r.default.getLocalItem("userLessonData",[0])},set:function(e){var t=r.default.getLocalItem("userLessonData",[0]),o=[];o[0]=e[0]||t[0],o[1]=e[1]||t[1],o[2]=e[2]||t[2],r.default.setLocalItem("userLessonData",o)},enumerable:!1,configurable:!0}),Object.defineProperty(e,"userStudentArr",{get:function(){return r.default.getLocalItem("userStudentArr",[0])},set:function(e){r.default.setLocalItem("userStudentArr",e)},enumerable:!1,configurable:!0}),Object.defineProperty(e,"userScore",{get:function(){return r.default.getLocalItem("userScore",0)},set:function(e){r.default.setLocalItem("userScore",e)},enumerable:!1,configurable:!0}),e.isAd=!0,e.EVENT_NAME=cc.Enum({Answer:"Answer",Gaming:"Gaming"}),e.EVENT_TYPE_Answer=cc.Enum({Correct:"Correct",Wrong:"Wrong"}),e.EVENT_TYPE_Gaming=cc.Enum({End:"End",Start:"Start"}),e.eachLevelCount=3,e.eachCupScore=3,e.currAddScore=0,e.currLesson=0,e.lessonMaxArr=[20,20,20],e.LESSON_INDEX=cc.Enum({primary:0,middle:1,senior:2}),e.correctCountMax=3,e.lessonQuestion=[["1 + 1 = \uff1f","\u6cea\u6e7f\u7f57\u5dfe\u68a6\u4e0d\u6210","\u591c\u6df1\u524d\u6bbf\u6309\u6b4c\u58f0","\u7ea2\u989c\u672a\u8001\u6069\u5148\u65ad","\u5c11\u5c0f\u79bb\u5bb6\u8001\u5927\u56de","\u513f\u7ae5\u76f8\u89c1\u4e0d\u76f8\u8bc6","\u59cb\u89c1\u6c99\u4e0a\u9e1f","\u72b9\u57cb\u4e91\u5916\u5cf0","\u6545\u4e61\u6773\u65e0\u9645","\u660e\u53d1\u6000\u670b\u4ece","\u4e61\u66f2\u8fd1\u6765\u4f73\u6b64\u5473","\u906e\u6e20\u4e0d\u9053\u662f\u5434\u513f","\u5c71\u6e90\u591c\u96e8\u5ea6\u4ed9\u5bb6","\u671d\u53d1\u4e1c\u56ed\u6843\u674e\u82b1","\u6843\u82b1\u7ea2\u516e\u674e\u82b1\u767d","\u770b\u4e07\u5c71\u7ea2\u904d","\u957f\u7a7a\u96c1\u53eb\u971c\u6668\u6708","\u96c4\u5173\u6f2b\u9053\u771f\u5982\u94c1","\u4e00\u5e74\u4e00\u5ea6\u79cb\u98ce\u52b2","\u4eca\u671d\u971c\u91cd\u4e1c\u95e8\u8def","\u7167\u6a2a\u5858\u534a\u5929\u6b8b\u6708"],["","","","","",""],["","","","","",""]],e.lessonAnswer=[[[["2","1+1","two","\u4e8c"],["\u6b63\u786e\u7b54\u6848","\u6b63\u786e\u7b54\u6848\u5440"],["\u6b63\u786e\u7b54\u6848","\u6b63\u786e\u7b54\u6848\u5440"],["\u6b63\u786e\u7b54\u6848","\u6b63\u786e\u7b54\u6848\u5440"],["\u6b63\u786e\u7b54\u6848","\u6b63\u786e\u7b54\u6848\u5440"],["\u6b63\u786e\u7b54\u6848","\u6b63\u786e\u7b54\u6848\u5440"],["\u6b63\u786e\u7b54\u6848","\u6b63\u786e\u7b54\u6848\u5440"],["\u6b63\u786e\u7b54\u6848","\u6b63\u786e\u7b54\u6848\u5440"],["\u6b63\u786e\u7b54\u6848","\u6b63\u786e\u7b54\u6848\u5440"],["\u6b63\u786e\u7b54\u6848","\u6b63\u786e\u7b54\u6848\u5440"],["\u6b63\u786e\u7b54\u6848","\u6b63\u786e\u7b54\u6848\u5440"],["\u6b63\u786e\u7b54\u6848","\u6b63\u786e\u7b54\u6848\u5440"],["\u6b63\u786e\u7b54\u6848","\u6b63\u786e\u7b54\u6848\u5440"],["\u6b63\u786e\u7b54\u6848","\u6b63\u786e\u7b54\u6848\u5440"],["\u6b63\u786e\u7b54\u6848","\u6b63\u786e\u7b54\u6848\u5440"],["\u6b63\u786e\u7b54\u6848","\u6b63\u786e\u7b54\u6848\u5440"],["\u6b63\u786e\u7b54\u6848","\u6b63\u786e\u7b54\u6848\u5440"],["\u6b63\u786e\u7b54\u6848","\u6b63\u786e\u7b54\u6848\u5440"],["\u6b63\u786e\u7b54\u6848","\u6b63\u786e\u7b54\u6848\u5440"],["\u6b63\u786e\u7b54\u6848","\u6b63\u786e\u7b54\u6848\u5440"],["\u6b63\u786e\u7b54\u6848","\u6b63\u786e\u7b54\u6848\u5440"]],[["1","0","9","\u8106\u8106\u9ca8","\u5965\u5229\u5965"],["\u9519\u8bef\u7b54\u6848","\u79bb\u8c31\u7b54\u6848","\u6211\u4e0d\u77e5\u9053"],["\u9519\u8bef\u7b54\u6848","\u79bb\u8c31\u7b54\u6848","\u6211\u4e0d\u77e5\u9053"],["\u9519\u8bef\u7b54\u6848","\u79bb\u8c31\u7b54\u6848","\u6211\u4e0d\u77e5\u9053"],["\u9519\u8bef\u7b54\u6848","\u79bb\u8c31\u7b54\u6848","\u6211\u4e0d\u77e5\u9053"],["\u9519\u8bef\u7b54\u6848","\u79bb\u8c31\u7b54\u6848","\u6211\u4e0d\u77e5\u9053"],["\u9519\u8bef\u7b54\u6848","\u79bb\u8c31\u7b54\u6848","\u6211\u4e0d\u77e5\u9053"],["\u9519\u8bef\u7b54\u6848","\u79bb\u8c31\u7b54\u6848","\u6211\u4e0d\u77e5\u9053"],["\u9519\u8bef\u7b54\u6848","\u79bb\u8c31\u7b54\u6848","\u6211\u4e0d\u77e5\u9053"],["\u9519\u8bef\u7b54\u6848","\u79bb\u8c31\u7b54\u6848","\u6211\u4e0d\u77e5\u9053"],["\u9519\u8bef\u7b54\u6848","\u79bb\u8c31\u7b54\u6848","\u6211\u4e0d\u77e5\u9053"],["\u9519\u8bef\u7b54\u6848","\u79bb\u8c31\u7b54\u6848","\u6211\u4e0d\u77e5\u9053"],["\u9519\u8bef\u7b54\u6848","\u79bb\u8c31\u7b54\u6848","\u6211\u4e0d\u77e5\u9053"],["\u9519\u8bef\u7b54\u6848","\u79bb\u8c31\u7b54\u6848","\u6211\u4e0d\u77e5\u9053"],["\u9519\u8bef\u7b54\u6848","\u79bb\u8c31\u7b54\u6848","\u6211\u4e0d\u77e5\u9053"],["\u9519\u8bef\u7b54\u6848","\u79bb\u8c31\u7b54\u6848","\u6211\u4e0d\u77e5\u9053"],["\u9519\u8bef\u7b54\u6848","\u79bb\u8c31\u7b54\u6848","\u6211\u4e0d\u77e5\u9053"],["\u9519\u8bef\u7b54\u6848","\u79bb\u8c31\u7b54\u6848","\u6211\u4e0d\u77e5\u9053"],["\u9519\u8bef\u7b54\u6848","\u79bb\u8c31\u7b54\u6848","\u6211\u4e0d\u77e5\u9053"],["\u9519\u8bef\u7b54\u6848","\u79bb\u8c31\u7b54\u6848","\u6211\u4e0d\u77e5\u9053"]]],[[["2","two"],["\u6b63\u786e\u7b54\u6848","\u6b63\u786e\u7b54\u6848\u5440"]],[["1","0","9","6"],["\u9519\u8bef\u7b54\u6848","\u79bb\u8c31\u7b54\u6848","\u6211\u4e0d\u77e5\u9053"]]],[[["2","two"],["\u6b63\u786e\u7b54\u6848","\u6b63\u786e\u7b54\u6848\u5440"]],[["1","0","9","6"],["\u9519\u8bef\u7b54\u6848","\u79bb\u8c31\u7b54\u6848","\u6211\u4e0d\u77e5\u9053"]]]],e.ROLE_INDEX=cc.Enum({Red:0,Green:1,Blue:2}),n([c],e)}());o.default=i,cc._RF.pop()},{"../../framework/localStorage":"localStorage"}],Game:[function(e,t,o){"use strict";cc._RF.push(t,"f6a36nnWT9K+I8PTicYrjdC","Game");var n=this&&this.__decorate||function(e,t,o,n){var r,a=arguments.length,c=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,n);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(c=(a<3?r(c):a>3?r(t,o,c):r(t,o))||c);return a>3&&c&&Object.defineProperty(t,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=e("../framework/NativeBridge"),a=e("./common/SceneManager"),c=e("./common/ToolManager"),i=e("./common/PoolManager"),s=e("./common/ResourcesManager"),l=e("./common/DataManager"),u=e("./scene_battle/Student"),f=cc._decorator,d=f.ccclass,h=(f.property,function(){function e(){}var t;return t=e,e.bcakMain=function(){this.sceneManager.loadScene(this.SCENE_NAME.MAIN)},e.getCurrLessonProgress=function(){return this.data.userLessonData[this.data.currLesson]},e.addCurrLessonProgress=function(e){void 0===e&&(e=1);var t=this.data.userLessonData;t[this.data.currLesson]+=e,this.data.userLessonData=t},e.getCurrQuestion=function(){return this.data.lessonQuestion[this.data.currLesson][this.data.userLessonData[this.data.currLesson]]},e.getCurrAnswer=function(){return[this.data.lessonAnswer[this.data.currLesson][0][this.data.userLessonData[this.data.currLesson]],this.data.lessonAnswer[this.data.currLesson][1][this.data.userLessonData[this.data.currLesson]]]},e.sendEvent=function(e,t,o,n){void 0===t&&(t=null),void 0===o&&(o=cc.find("Canvas")),void 0===n&&(n=!0);var r=new cc.Event.EventCustom(e,n);r.setUserData(t),o.dispatchEvent(r)},e.apiPlatform=r,e.tool=c.default,e.pool=i.default,e.data=l.default,e.sceneManager=a.default,e.resManager=s.default,e.SCENE_NAME=cc.Enum({MAIN:t.sceneManager.SCENE_MAIN,BATTLE:t.sceneManager.SCENE_BATTLE}),e.student=u.default,n([d],e)}());o.default=h,cc._RF.pop()},{"../framework/NativeBridge":"NativeBridge","./common/DataManager":"DataManager","./common/PoolManager":"PoolManager","./common/ResourcesManager":"ResourcesManager","./common/SceneManager":"SceneManager","./common/ToolManager":"ToolManager","./scene_battle/Student":"Student"}],NativeBridge:[function(e,t,o){"use strict";cc._RF.push(t,"d4fea2zQ+ZGhale4F/qj5EC","NativeBridge"),Object.defineProperty(o,"__esModule",{value:!0}),o.installShortcut=o.hasShortcutInstalled=o.showGameDrawerAd=o.exitGame=o.showAppBoxAD=o.onShow=o.onHide=o.shareLp=o.stopLp=o.startLp=o.toMiniGame=o.getSystemInfo=o.getSystemInfoSync=o.vibrateShort=o.vibrateLong=o.showModal=o.setMoreGamesInfo=o.showShare=o.showTips=o.openShare=o.showRewardAD=o.showGridAD=o.showInterstitialAd=o.showBannerAD=o.initAds=o.init=void 0;var n=e("./config"),r=e("./APIScripts/toutiao"),a=e("./APIScripts/wechat"),c=e("./APIScripts/qq"),i=e("./APIScripts/android"),s=e("./APIScripts/ios"),l=e("./APIScripts/oppo"),u=e("./APIScripts/ks"),f=e("./APIScripts/web"),d=cc._decorator;function h(){if(!cc.sys.isBrowser||n.currentPlatform===n.platformEnum.web)switch(n.currentPlatform){case n.platformEnum.wechat:a.initAds();break;case n.platformEnum.toutiao:r.initAds();break;case n.platformEnum.qq:c.initAds();case n.platformEnum.oppo:l.initAds();break;case n.platformEnum.android:i.initAds();break;case n.platformEnum.ios:s.initAds();break;case n.platformEnum.ks:u.initAds();break;default:console.log("\u5e73\u53f0"+n.currentPlatform+"\u672a\u5b9a\u4e49API\uff1ainitAds")}}d.ccclass,d.property,o.init=function(){if(!cc.sys.isBrowser||n.currentPlatform===n.platformEnum.web){switch(n.currentPlatform){case n.platformEnum.wechat:a.init();break;case n.platformEnum.toutiao:r.init();break;case n.platformEnum.qq:c.init();break;case n.platformEnum.ks:u.init();break;default:console.log("\u5e73\u53f0"+n.currentPlatform+"\u672a\u5b9a\u4e49API\uff1ainit")}h()}},o.initAds=h,o.showBannerAD=function(e){if(!cc.sys.isBrowser||n.currentPlatform===n.platformEnum.web)switch(n.currentPlatform){case n.platformEnum.wechat:a.showBannerAD(e);break;case n.platformEnum.toutiao:r.showBannerAD(e);break;case n.platformEnum.qq:c.showBannerAD(e);break;case n.platformEnum.oppo:l.showBannerAD(e);break;case n.platformEnum.android:i.showBannerAD(e);break;case n.platformEnum.ios:s.showBannerAD(e);break;default:console.log("\u5e73\u53f0"+n.currentPlatform+"\u672a\u5b9a\u4e49API\uff1ashowBannerAD")}},o.showInterstitialAd=function(){if(!cc.sys.isBrowser||n.currentPlatform===n.platformEnum.web)switch(n.currentPlatform){case n.platformEnum.wechat:a.showInterstitialAd();break;case n.platformEnum.toutiao:r.showInterstitialAd();break;case n.platformEnum.qq:c.showInterstitialAd();break;case n.platformEnum.android:i.showInterstitialAd();break;case n.platformEnum.oppo:l.showInterstitialAd();break;case n.platformEnum.ios:s.showInterstitialAd();break;default:console.log("\u5e73\u53f0"+n.currentPlatform+"\u672a\u5b9a\u4e49API\uff1ashowInterstitialAd")}},o.showGridAD=function(e){if(!cc.sys.isBrowser||n.currentPlatform===n.platformEnum.web)switch(n.currentPlatform){case n.platformEnum.wechat:a.showGridAD(e);break;case n.platformEnum.qq:c.showGridAD(e);break;case n.platformEnum.oppo:break;default:console.log("\u5e73\u53f0"+n.currentPlatform+"\u672a\u5b9a\u4e49API\uff1ashowInterstitialAd")}},o.showRewardAD=function(e,t){if(void 0===e&&(e=function(){}),void 0===t&&(t=null),cc.sys.isBrowser)return new Promise(function(e){e()});switch(n.currentPlatform){case n.platformEnum.wechat:return a.showRewardAD();case n.platformEnum.toutiao:return r.showRewardAD();case n.platformEnum.qq:return c.showRewardAD();case n.platformEnum.oppo:return l.showRewardAD();case n.platformEnum.ks:return u.showRewardAD();case n.platformEnum.web:return f.showRewardAd();case n.platformEnum.android:return i.showRewardAD(e,t);default:return console.log("\u5e73\u53f0"+n.currentPlatform+"\u672a\u5b9a\u4e49API\uff1ashowRewardAD"),new Promise(function(e){e()})}},o.openShare=function(){if(!cc.sys.isBrowser||n.currentPlatform===n.platformEnum.web)switch(n.currentPlatform){case n.platformEnum.wechat:a.openShare();break;case n.platformEnum.toutiao:r.openShare();break;case n.platformEnum.qq:c.openShare();break;default:console.log("\u5e73\u53f0"+n.currentPlatform+"\u672a\u5b9a\u4e49API\uff1aopenShare")}},o.showTips=function(e){switch(n.currentPlatform){case n.platformEnum.wechat:a.showTips(e);break;case n.platformEnum.toutiao:r.showTips(e);break;case n.platformEnum.qq:c.showTips(e);break;case n.platformEnum.oppo:l.showTips(e);break;case n.platformEnum.android:i.showTips(e);break;case n.platformEnum.ios:s.showTips(e);case n.platformEnum.ks:u.showTips(e);break;default:console.log("\u5e73\u53f0"+n.currentPlatform+"\u672a\u5b9a\u4e49API\uff1ashowTips")}},o.showShare=function(e,t){if(void 0===e&&(e=null),void 0===t&&(t=null),n.currentPlatform===n.platformEnum.web||!cc.sys.isBrowser)switch(n.currentPlatform){case n.platformEnum.wechat:a.showShare(e,t);break;case n.platformEnum.toutiao:r.showShare(e,t);break;case n.platformEnum.qq:c.showShare(e,t);break;case n.platformEnum.ks:u.showShare(e,t);break;case n.platformEnum.web:f.showShare();break;case n.platformEnum.android:i.showShare();break;default:console.log("\u5e73\u53f0"+n.currentPlatform+"\u672a\u5b9a\u4e49API\uff1ashowShare")}},o.setMoreGamesInfo=function(){switch(n.currentPlatform){case n.platformEnum.toutiao:r.setMoreGamesInfo();break;default:console.log("\u5e73\u53f0"+n.currentPlatform+"\u672a\u5b9a\u4e49API\uff1asetMoreGamesInfo")}},o.showModal=function(e,t,o,i){if(void 0===o&&(o=null),void 0===i&&(i=null),!cc.sys.isBrowser||n.currentPlatform===n.platformEnum.web)switch(n.currentPlatform){case n.platformEnum.wechat:a.showModal(e,t,o,i);break;case n.platformEnum.toutiao:r.showModal(e,t,o,i);break;case n.platformEnum.qq:c.showModal(e,t,o,i);break;case n.platformEnum.oppo:l.showModal(e,t,o,i);break;case n.platformEnum.ks:u.showModal(e,t,o,i);break;default:console.log("\u5e73\u53f0"+n.currentPlatform+"\u672a\u5b9a\u4e49API\uff1ashowShare")}},o.vibrateLong=function(){switch(n.currentPlatform){case n.platformEnum.wechat:a.vibrateLong();break;case n.platformEnum.toutiao:r.vibrateLong();break;case n.platformEnum.qq:c.vibrateLong();break;default:console.log("\u5e73\u53f0"+n.currentPlatform+"\u672a\u5b9a\u4e49API\uff1ashowShare")}},o.vibrateShort=function(){switch(n.currentPlatform){case n.platformEnum.wechat:a.vibrateShort();break;case n.platformEnum.toutiao:r.vibrateShort();break;case n.platformEnum.qq:c.vibrateShort();break;default:console.log("\u5e73\u53f0"+n.currentPlatform+"\u672a\u5b9a\u4e49API\uff1ashowShare")}},o.getSystemInfoSync=function(){var e=null;switch(n.currentPlatform){case n.platformEnum.wechat:e=a.getSystemInfoSync();break;case n.platformEnum.toutiao:e=r.getSystemInfoSync();break;case n.platformEnum.qq:e=c.getSystemInfoSync();break;default:console.log("\u5e73\u53f0"+n.currentPlatform+"\u672a\u5b9a\u4e49API\uff1ashowShare")}return e},o.getSystemInfo=function(e){switch(n.currentPlatform){case n.platformEnum.wechat:a.getSystemInfo(e);break;case n.platformEnum.toutiao:r.getSystemInfo(e);break;case n.platformEnum.qq:c.getSystemInfo(e);break;default:console.log("\u5e73\u53f0"+n.currentPlatform+"\u672a\u5b9a\u4e49API\uff1ashowShare")}},o.toMiniGame=function(e){switch(n.currentPlatform){case n.platformEnum.wechat:a.toMiniGame(e);break;case n.platformEnum.toutiao:r.toMiniGame();break;default:console.log("\u5e73\u53f0"+n.currentPlatform+"\u672a\u5b9a\u4e49API\uff1ashowShare")}},o.startLp=function(){switch(n.currentPlatform){case n.platformEnum.toutiao:r.startLp();break;case n.platformEnum.ks:u.startLp();break;default:console.log("\u5e73\u53f0"+n.currentPlatform+"\u672a\u5b9a\u4e49API\uff1ashowShare")}},o.stopLp=function(){switch(n.currentPlatform){case n.platformEnum.toutiao:r.stopLp();break;case n.platformEnum.ks:u.stopLp();break;default:console.log("\u5e73\u53f0"+n.currentPlatform+"\u672a\u5b9a\u4e49API\uff1ashowShare")}},o.shareLp=function(e,t){if(void 0===e&&(e=null),void 0===t&&(t=null),cc.sys.isBrowser)e();else switch(n.currentPlatform){case n.platformEnum.toutiao:r.shareLp(e,t);break;case n.platformEnum.ks:u.shareLp(e,t);break;case n.platformEnum.web:f.showRewardAd(e,t);break;case n.platformEnum.android:i.showRewardAD(e,t);case n.platformEnum.oppo:l.showRewardAD(e,t);default:console.log("\u5e73\u53f0"+n.currentPlatform+"\u672a\u5b9a\u4e49API\uff1ashowShare")}},o.onHide=function(e){switch(n.currentPlatform){case n.platformEnum.wechat:a.onHide(e);break;case n.platformEnum.toutiao:r.onHide(e);break;case n.platformEnum.qq:c.onHide(e);break;default:console.log("\u5e73\u53f0"+n.currentPlatform+"\u672a\u5b9a\u4e49API\uff1ashowShare")}},o.onShow=function(e){switch(n.currentPlatform){case n.platformEnum.wechat:a.onShow(e);break;case n.platformEnum.toutiao:r.onShow(e);break;case n.platformEnum.qq:c.onShow(e);break;default:console.log("\u5e73\u53f0"+n.currentPlatform+"\u672a\u5b9a\u4e49API\uff1ashowShare")}},o.showAppBoxAD=function(){switch(n.currentPlatform){case n.platformEnum.wechat:c.showAppBoxAd();break;default:console.log("\u5e73\u53f0"+n.currentPlatform+"\u672a\u5b9a\u4e49API\uff1ashowShare")}},o.exitGame=function(){switch(n.currentPlatform){case n.platformEnum.android:i.exitGame();break;default:console.log("\u5e73\u53f0"+n.currentPlatform+"\u672a\u5b9a\u4e49API\uff1ashowShare")}},o.showGameDrawerAd=function(){if(!cc.sys.isBrowser)switch(n.currentPlatform){case n.platformEnum.oppo:l.createGameDrawerAd();default:console.log("\u5e73\u53f0"+n.currentPlatform+"\u672a\u5b9a\u4e49API\uff1ashowGameDrawerAd")}},o.hasShortcutInstalled=function(e){if(cc.sys.isBrowser)e.success();else switch(n.currentPlatform){case n.platformEnum.wechat:case n.platformEnum.toutiao:case n.platformEnum.qq:e.success();break;case n.platformEnum.oppo:l.hasShortcutInstalled(e);break;default:console.log("\u5e73\u53f0"+n.currentPlatform+"\u672a\u5b9a\u4e49API\uff1alogin")}},o.installShortcut=function(e){if(cc.sys.isBrowser)e.success();else switch(n.currentPlatform){case n.platformEnum.wechat:case n.platformEnum.toutiao:case n.platformEnum.qq:e.success();break;case n.platformEnum.oppo:l.installShortcut(e);break;default:console.log("\u5e73\u53f0"+n.currentPlatform+"\u672a\u5b9a\u4e49API\uff1alogin")}},cc._RF.pop()},{"./APIScripts/android":"android","./APIScripts/ios":"ios","./APIScripts/ks":"ks","./APIScripts/oppo":"oppo","./APIScripts/qq":"qq","./APIScripts/toutiao":"toutiao","./APIScripts/web":"web","./APIScripts/wechat":"wechat","./config":"config"}],PoolManager:[function(e,t,o){"use strict";cc._RF.push(t,"b77c4f2S2FFkKZIFPmIe6Ni","PoolManager"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function e(){}return e.size=function(e){var t=this._poolMap.get(e);return void 0===t?0:t.length},e.clear=function(e){var t=this._poolMap.get(e);if(void 0!==t){for(var o=t.length,n=0;n<o;++n)t[n].destroy();t.length=0,this._poolMap.delete(e)}},e.clearAll=function(){this._poolMap.forEach(function(e){e.forEach(function(e){e.destroy()})}),this._poolMap.clear()},e.get=function(e){var t=this._poolMap.get(e);if(void 0===t||t.length<=0)return null;var o=t.length-1,n=t[o];t.length=o;var r=n.getComponent(e);return r&&r.reuse&&r.reuse(),n},e.put=function(e,t){if(t){var o=this._poolMap.get(e);if(void 0===o)o=[],this._poolMap.set(e,o);else if(-1!==o.indexOf(t))return void cc.error("[ePool.put] error: \u4e0d\u53ef\u5c06\u8282\u70b9\u91cd\u590d\u653e\u5165\u8282\u70b9\u6c60\u4e2d");t.removeFromParent(!1);var n=t.getComponent(e);n&&n.unuse&&n.unuse(),o.push(t)}else cc.error("[Pool.put] error: \u4f20\u5165\u8282\u70b9\u4e3a\u7a7a")},e._poolMap=new Map,e}();o.default=n,cc._RF.pop()},{}],ResourcesManager:[function(e,t,o){"use strict";cc._RF.push(t,"1bb19qSEaBNjoSslRWqA2Dy","ResourcesManager");var n=this&&this.__decorate||function(e,t,o,n){var r,a=arguments.length,c=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,n);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(c=(a<3?r(c):a>3?r(t,o,c):r(t,o))||c);return a>3&&c&&Object.defineProperty(t,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,a=r.ccclass,c=(r.property,function(){function e(){}return e.init=function(){return Promise.all([this.loadAnimationClip()])},e.loadRes=function(e){var t=this;return new Promise(function(o){var n=t.res[e];if(n)return o(n),n;cc.resources.load("res/"+e,function(n,r){n?(cc.log("[\u52a0\u8f7d\u5931\u8d25] "+e),o(null)):(t.res[e]=r,cc.log("[\u52a0\u8f7d\u6210\u529f] "+e),o(r))})})},e.loadResDir=function(e,t){var o=this;return new Promise(function(n){if(o.res[e])return cc.log("[\u52a0\u8f7d\u6210\u529f-\u7f13\u5b58] "+e),n(o.res[e]),o.res[e];cc.resources.loadDir(e,t,function(t,r){t?(cc.log("[\u52a0\u8f7d\u5931\u8d25] "+e),n([])):(o.res[e]=r,cc.log("[\u52a0\u8f7d\u6210\u529f] "+e),n(r))})})},e.loadAudioClips=function(){var e=this;return new Promise(function(t,o){cc.resources.loadDir("audio",cc.AudioClip,function(n,r){n&&(cc.log("[\u52a0\u8f7d\u5931\u8d25] \u97f3\u4e50"),o()),r.forEach(function(t){e.AudioClips[t.name]=t}),cc.log("[\u52a0\u8f7d\u6210\u529f] \u97f3\u4e50"),t(r)})})},e.loadAnimationClip=function(){var e=this;return new Promise(function(t,o){cc.resources.loadDir("animation",cc.AnimationClip,function(n,r){n&&(cc.log("[\u52a0\u8f7d\u5931\u8d25]","animation"),o()),r.forEach(function(t){e.AnimationClips[t.name]=t}),t(r),cc.log("[\u52a0\u8f7d\u6210\u529f]","animation")})})},e.loadPrefabs=function(){var e=this;return new Promise(function(t,o){cc.resources.loadDir("prefab",cc.Prefab,function(n,r){n&&(cc.log("[\u52a0\u8f7d\u5931\u8d25]","prefab"),o()),r.forEach(function(t){e.Prefabs[t.name]=t}),t(r),cc.log("[\u52a0\u8f7d\u6210\u529f]","prefab")})})},e.showAnimation=function(e,t,o,n){var r=this;return void 0===t&&(t=this.AnimationClips.scale_small_big),void 0===o&&(o=!0),void 0===n&&(n=!1),new Promise(function(a){if(null!==e&&cc.isValid(e,!0)){e.active=!0;var c=e.getChildByName("mask_top");if(c&&(c.active=!0),o&&e.children[0]&&e.children[0].getComponent(cc.BlockInputEvents))return n?r.showAnimation(e.children[0],r.AnimationClips.opacity_fade_out,!1,!0):r.showAnimation(e.children[0],r.AnimationClips.opacity_fade_in),r.showAnimation(e.children[1],t),setTimeout(function(){n&&(e.active=!1,e.opacity=255,e.scale=1),c&&(c.active=!1),a(0)},1e3*t.duration+200),void a(0);var i=e.getComponent(cc.Animation);i||(i=e.addComponent(cc.Animation)),i.addClip(t),i.play(t.name),i.setCurrentTime(0),setTimeout(function(){n&&(e.active=!1,e.opacity=255,e.scale=1),c&&(c.active=!1),a(0)},1e3*t.duration+200)}else a(0)})},e.hideAnimation=function(e,t){var o=this;return void 0===t&&(t=this.AnimationClips.scale_left_right),new Promise(function(n){if(null!==e&&cc.isValid(e,!0)){if(!o.isMaskInLayer(e)){var r=e.addComponent(cc.Animation);return r.addClip(t),r.getAnimationState(t.name).speed=-r.getAnimationState(t.name).speed,r.setCurrentTime(t.duration),r.play(t.name),void n(0)}for(var a=0,c=e.children;a<c.length;a++){var i=c[a];i.getComponent(cc.BlockInputEvents)||o.hideAnimation(i,t)}n(0)}else n(0)})},e.isMaskInLayer=function(e){for(var t=0,o=e.children;t<o.length;t++)if(o[t].getComponent(cc.BlockInputEvents))return!0;return!1},e.getFromPool=function(){return this.tipsNodePool.length>0?this.tipsNodePool.pop():cc.instantiate(this.Prefabs.tips)},e.putToPool=function(e){e.removeFromParent(!1),this.tipsNodePool.push(e)},e.showTip=function(e,t,o){var n=this;void 0===e&&(e="Hello, Tip"),void 0===t&&(t=cc.find("Canvas")),void 0===o&&(o=1),null===t&&(t=cc.director.getScene());var r=this.getFromPool();r.parent=t,r.position=cc.v3(0,0,0),r.children[1].getComponent(cc.Label).string=e,this.showAnimation(r,this.AnimationClips.move_left_in),setTimeout(function(){null!==r&&cc.isValid(r,!0)&&n.showAnimation(r,n.AnimationClips.move_left_out)},1e3*o),setTimeout(function(){null!==r&&cc.isValid(r,!0)&&n.putToPool(r)},1e3+1e3*o)},e.playEffect=function(e){return void 0===e&&(e=this.AudioClips.button),this.isAudioEffect?e?cc.audioEngine.playEffect(e,!1):(cc.log("\u64ad\u653e\u5931\u8d25\u7684\u97f3\u4e50 -> ",e.name),null):null},e.playMusic=function(e,t){return void 0===e&&(e=this.AudioClips.bg_main),void 0===t&&(t=!1),this.isAudioBGM?!t&&cc.audioEngine.isMusicPlaying()?null:void(e?cc.audioEngine.playMusic(e,!0):cc.log("\u64ad\u653e\u5931\u8d25\u7684\u97f3\u4e50 -> ",e.name)):null},e.setMusicVolume=function(e){cc.audioEngine.setMusicVolume(e)},e.setEffectVolume=function(e){cc.audioEngine.setEffectsVolume(e)},e.addMusicVolume=function(e){e=cc.misc.clamp01(cc.audioEngine.getMusicVolume()+e),cc.audioEngine.setMusicVolume(e)},e.isAudioEffect=!0,e.isAudioBGM=!0,e.res={},e.AudioClips={button:new cc.AudioClip,bg_main:new cc.AudioClip},e.AnimationClips={move_left_out:new cc.AnimationClip,move_left_in:new cc.AnimationClip,opacity_fade_in:new cc.AnimationClip,opacity_fade_out:new cc.AnimationClip,rotate_shake:new cc.AnimationClip,scale_down_up:new cc.AnimationClip,scale_left_right:new cc.AnimationClip,scale_small_big:new cc.AnimationClip},e.Prefabs={tips:new cc.Prefab},e.tipsNodePool=[],n([a],e)}());o.default=c,cc._RF.pop()},{}],SceneBattle:[function(e,t,o){"use strict";cc._RF.push(t,"e55baoHTH9HioH4ATKiEIdT","SceneBattle");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var r,a=arguments.length,c=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,n);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(c=(a<3?r(c):a>3?r(t,o,c):r(t,o))||c);return a>3&&c&&Object.defineProperty(t,o,c),c},c=this&&this.__awaiter||function(e,t,o,n){return new(o||(o=Promise))(function(r,a){function c(e){try{s(n.next(e))}catch(t){a(t)}}function i(e){try{s(n.throw(e))}catch(t){a(t)}}function s(e){var t;e.done?r(e.value):(t=e.value,t instanceof o?t:new o(function(e){e(t)})).then(c,i)}s((n=n.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var o,n,r,a,c={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(e){return function(t){return s([e,t])}}function s(a){if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,n&&(r=2&a[0]?n.return:a[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,a[1])).done)return r;switch(n=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return c.label++,{value:a[1],done:!1};case 5:c.label++,n=a[1],a=[0];continue;case 7:a=c.ops.pop(),c.trys.pop();continue;default:if(!(r=(r=c.trys).length>0&&r[r.length-1])&&(6===a[0]||2===a[0])){c=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){c.label=a[1];break}if(6===a[0]&&c.label<r[1]){c.label=r[1],r=a;break}if(r&&c.label<r[2]){c.label=r[2],c.ops.push(a);break}r[2]&&c.ops.pop(),c.trys.pop();continue}a=t.call(e,c)}catch(i){a=[6,i],n=0}finally{o=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var s=e("./Game"),l=cc._decorator,u=l.ccclass,f=l.property,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.layerGroup=null,t.barCups=null,t.labQuestion=null,t.studentPrefab=null,t.seatArr=[],t.layer={},t.students=[],t.correctStudents=[],t.wrongStudents=[],t.isEnd=!1,t.cupStateArr=[0,0,0],t.cupCount=0,t.thinkTime=2,t.applaudTime=2,t}return r(t,e),t.prototype.onLoad=function(){return c(this,void 0,void 0,function(){var e,t,o;return i(this,function(n){switch(n.label){case 0:return e=s.default.student,[4,s.default.resManager.loadResDir("students",cc.SpriteFrame)];case 1:return e.body=n.sent(),t=[0,1,2,3,4,5],s.default.data.userStudentArr=t,o=s.default.getCurrLessonProgress()%s.default.data.eachLevelCount,s.default.addCurrLessonProgress(-o),this.createStudents(),this.showLevel(),[2]}})})},t.prototype.start=function(){return c(this,void 0,void 0,function(){var e,t=this;return i(this,function(){return this.cupCount=0,e=!0,this.node.on(s.default.data.EVENT_NAME.Answer,function(o){return c(t,void 0,void 0,function(){var t,n,r,a;return i(this,function(c){switch(c.label){case 0:if(!e)return[2];switch(cc.log("[\u4e8b\u4ef6\u76d1\u542c] \u70b9\u51fb\u7b54\u6848"),e=!1,this.hideStudentAnswer(),t=o.getUserData().type,n=o.getUserData().studentID,r=s.default.data.userStudentArr,s.default.tool.arrayDelete(r,n),a=s.default.getCurrLessonProgress()%s.default.data.eachLevelCount,t){case s.default.data.EVENT_TYPE_Answer.Correct:return[3,1];case s.default.data.EVENT_TYPE_Answer.Wrong:return[3,3]}return[3,5];case 1:return this.showStudentsAnimation(s.default.student.STATE_ANIMATION.Happy,2,[n]),[4,this.showStudentsAnimation(s.default.student.STATE_ANIMATION.Applaud,2,r)];case 2:return c.sent(),this.cupStateArr[a]=2,this.cupCount++,[3,5];case 3:return this.showStudentsAnimation(s.default.student.STATE_ANIMATION.Sad,2,[n]),[4,this.showStudentsAnimation(s.default.student.STATE_ANIMATION.Daze,2,r)];case 4:return c.sent(),this.cupStateArr[a]=1,[3,5];case 5:return[4,s.default.resManager.showAnimation(this.labQuestion.node,s.default.resManager.AnimationClips.opacity_fade_out,!1,!0)];case 6:return c.sent(),this.showCups(),s.default.addCurrLessonProgress(),a!==s.default.data.eachLevelCount-1?[3,8]:(s.default.data.currAddScore=this.cupCount*s.default.data.eachCupScore,[4,this.showLayer("layer_game_over")]);case 7:return c.sent(),[3,10];case 8:return[4,this.showLevel()];case 9:c.sent(),c.label=10;case 10:return e=!0,[2]}})})}),[2]})})},t.prototype.showCups=function(){var e=this;this.cupStateArr.forEach(function(t,o){e.barCups.children[o].children[t].active=!0})},t.prototype.createStudents=function(){for(var e=s.default.data.userStudentArr,t=0;t<e.length;t++){var o=cc.instantiate(this.studentPrefab);o.getComponent("Student").id=e[t],o.parent=this.seatArr[t],this.students.push(o.getComponent("Student"))}},t.prototype.showLevel=function(){return c(this,void 0,void 0,function(){return i(this,function(e){switch(e.label){case 0:return this.wrongStudents=[],this.correctStudents=[],this.showQuestion(),[4,this.showStudentsAnimation(s.default.student.STATE_ANIMATION.Thinking,this.thinkTime)];case 1:return e.sent(),this.showStudentsAnswer(),[2]}})})},t.prototype.showStudentsAnimation=function(e,t,o){var n=this;return void 0===e&&(e=s.default.student.STATE_ANIMATION.Idle),void 0===t&&(t=2),void 0===o&&(o=null),new Promise(function(r){null!=o?n.students.forEach(function(t){-1!==o.indexOf(t.id)&&t.showAnimation(e)}):n.students.forEach(function(t){t.showAnimation(e)}),n.scheduleOnce(function(){r()},t)})},t.prototype.showStudentsAnswer=function(){var e=s.default.getCurrAnswer();if(e[0]&&e[1]){for(var t=s.default.tool.randInt(1,s.default.data.correctCountMax),o=s.default.tool.sortArray(this.students,3),n=0;n<t;n++){var r=s.default.tool.randArray(e[0]);o[n].showAnswer(r),this.correctStudents.push(o[n])}for(n=t;n<o.length;n++)r=s.default.tool.randArray(e[1]),o[n].showAnswer(r),this.wrongStudents.push(o[n]);cc.log(this.correctStudents,this.wrongStudents)}else console.log("[data.answer] \u663e\u793a\u9519\u8bef \u8bfe\u7a0b"+s.default.data.currLesson+", \u8fdb\u5ea6"+s.default.getCurrLessonProgress())},t.prototype.hideStudentAnswer=function(){this.students.forEach(function(e){s.default.resManager.showAnimation(e.sayNode,s.default.resManager.AnimationClips.opacity_fade_out)})},t.prototype.showQuestion=function(e){void 0===e&&(e=""),e=s.default.getCurrQuestion(),this.labQuestion.string=e,s.default.resManager.showAnimation(this.labQuestion.node,s.default.resManager.AnimationClips.opacity_fade_in,!1)},t.prototype.createLayer=function(e){return c(this,void 0,void 0,function(){var t;return i(this,function(o){switch(o.label){case 0:return[4,s.default.resManager.loadRes(e)];case 1:return t=o.sent(),this.layer[e]=cc.instantiate(t),this.layer[e].parent=this.layerGroup,[2]}})})},t.prototype.showLayer=function(e){return c(this,void 0,void 0,function(){return i(this,function(t){switch(t.label){case 0:return this.layer[e]?[3,2]:[4,this.createLayer(e)];case 1:t.sent(),t.label=2;case 2:return s.default.resManager.showAnimation(this.layer[e]),[2]}})})},t.prototype.showWrong=function(){this.wrongStudents.forEach(function(e){e.showWrong()})},t.prototype.onShowWrong=function(){this.showWrong()},t.prototype.onNextLevel=function(){this.correctStudents.length<=0||s.default.sendEvent(s.default.data.EVENT_NAME.Answer,{type:s.default.data.EVENT_TYPE_Answer.Correct,studentID:this.correctStudents[0].id})},t.prototype.onAddTime=function(){},a([f(cc.Node)],t.prototype,"layerGroup",void 0),a([f(cc.Node)],t.prototype,"barCups",void 0),a([f(cc.Label)],t.prototype,"labQuestion",void 0),a([f(cc.Prefab)],t.prototype,"studentPrefab",void 0),a([f(cc.Node)],t.prototype,"seatArr",void 0),a([u],t)}(cc.Component);o.default=d,cc._RF.pop()},{"./Game":"Game"}],SceneLoading:[function(e,t,o){"use strict";cc._RF.push(t,"b4542CX47ZPXZB1EPdVd1/G","SceneLoading");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var r,a=arguments.length,c=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,n);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(c=(a<3?r(c):a>3?r(t,o,c):r(t,o))||c);return a>3&&c&&Object.defineProperty(t,o,c),c},c=this&&this.__awaiter||function(e,t,o,n){return new(o||(o=Promise))(function(r,a){function c(e){try{s(n.next(e))}catch(t){a(t)}}function i(e){try{s(n.throw(e))}catch(t){a(t)}}function s(e){var t;e.done?r(e.value):(t=e.value,t instanceof o?t:new o(function(e){e(t)})).then(c,i)}s((n=n.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var o,n,r,a,c={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(e){return function(t){return s([e,t])}}function s(a){if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,n&&(r=2&a[0]?n.return:a[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,a[1])).done)return r;switch(n=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return c.label++,{value:a[1],done:!1};case 5:c.label++,n=a[1],a=[0];continue;case 7:a=c.ops.pop(),c.trys.pop();continue;default:if(!(r=(r=c.trys).length>0&&r[r.length-1])&&(6===a[0]||2===a[0])){c=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){c.label=a[1];break}if(6===a[0]&&c.label<r[1]){c.label=r[1],r=a;break}if(r&&c.label<r[2]){c.label=r[2],c.ops.push(a);break}r[2]&&c.ops.pop(),c.trys.pop();continue}a=t.call(e,c)}catch(i){a=[6,i],n=0}finally{o=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var s=e("./Game"),l=cc._decorator,u=l.ccclass,f=(l.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.onLoad=function(){},t.prototype.start=function(){return c(this,void 0,void 0,function(){return i(this,function(e){switch(e.label){case 0:return s.default.apiPlatform.init(),s.default.sceneManager.preLoadScene(s.default.SCENE_NAME.MAIN),s.default.resManager.loadRes("layer_select_lesson"),[4,s.default.resManager.init()];case 1:return e.sent(),s.default.sceneManager.loadScene(s.default.SCENE_NAME.MAIN),[2]}})})},t.prototype.update=function(){},a([u],t)}(cc.Component));o.default=f,cc._RF.pop()},{"./Game":"Game"}],SceneMain:[function(e,t,o){"use strict";cc._RF.push(t,"dfd5cS48eRHvYcTUj85DBsr","SceneMain");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var r,a=arguments.length,c=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,n);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(c=(a<3?r(c):a>3?r(t,o,c):r(t,o))||c);return a>3&&c&&Object.defineProperty(t,o,c),c},c=this&&this.__awaiter||function(e,t,o,n){return new(o||(o=Promise))(function(r,a){function c(e){try{s(n.next(e))}catch(t){a(t)}}function i(e){try{s(n.throw(e))}catch(t){a(t)}}function s(e){var t;e.done?r(e.value):(t=e.value,t instanceof o?t:new o(function(e){e(t)})).then(c,i)}s((n=n.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var o,n,r,a,c={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(e){return function(t){return s([e,t])}}function s(a){if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,n&&(r=2&a[0]?n.return:a[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,a[1])).done)return r;switch(n=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return c.label++,{value:a[1],done:!1};case 5:c.label++,n=a[1],a=[0];continue;case 7:a=c.ops.pop(),c.trys.pop();continue;default:if(!(r=(r=c.trys).length>0&&r[r.length-1])&&(6===a[0]||2===a[0])){c=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){c.label=a[1];break}if(6===a[0]&&c.label<r[1]){c.label=r[1],r=a;break}if(r&&c.label<r[2]){c.label=r[2],c.ops.push(a);break}r[2]&&c.ops.pop(),c.trys.pop();continue}a=t.call(e,c)}catch(i){a=[6,i],n=0}finally{o=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var s=e("./Game"),l=e("./layer/layer_unlock_role"),u=cc._decorator,f=u.ccclass,d=u.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.layerGroup=null,t.layer={},t}return r(t,e),t.prototype.onLoad=function(){},t.prototype.start=function(){},t.prototype.createLayer=function(e){return c(this,void 0,void 0,function(){var t;return i(this,function(o){switch(o.label){case 0:return[4,s.default.resManager.loadRes(e)];case 1:return t=o.sent(),this.layer[e]=cc.instantiate(t),this.layer[e].parent=this.layerGroup,[2]}})})},t.prototype.showLayer=function(e,t){return void 0===t&&(t=s.default.resManager.AnimationClips.scale_small_big),c(this,void 0,void 0,function(){return i(this,function(o){switch(o.label){case 0:return this.layer[e]?[3,2]:[4,this.createLayer(e)];case 1:o.sent(),o.label=2;case 2:return[4,s.default.resManager.showAnimation(this.layer[e],t)];case 3:return o.sent(),[2]}})})},t.prototype.closeLayer=function(){return c(this,void 0,void 0,function(){return i(this,function(){return[2]})})},t.prototype.onStartGame=function(){},t.prototype.onSelectLesson=function(){this.showLayer("layer_select_lesson",s.default.resManager.AnimationClips.move_left_in)},t.prototype.onUnlockRole=function(e,t){t=Number(t),l.default.roleIndex=t,this.showLayer("layer_unlock_role")},t.prototype.onCloseLayer=function(){},a([d(cc.Node)],t.prototype,"layerGroup",void 0),a([f],t)}(cc.Component);o.default=h,cc._RF.pop()},{"./Game":"Game","./layer/layer_unlock_role":"layer_unlock_role"}],SceneManager:[function(e,t,o){"use strict";cc._RF.push(t,"bc476VmY/1E/5eRSlwmkN15","SceneManager"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function e(){}return e.preLoadScene=function(e){return new Promise(function(t){cc.director.preloadScene(e,function(e){e&&console.error("[scene.load]:"+e),t("\u573a\u666f\u9884\u52a0\u8f7d")})})},e.loadScene=function(e,t){return void 0===t&&(t=function(){}),new Promise(function(o){cc.director.loadScene(e,function(){t(),o("\u573a\u666f\u52a0\u8f7d")})})},e.SCENE_LOADING="SceneLoading",e.SCENE_MAIN="SceneMain",e.SCENE_BATTLE="SceneBattle",e}();o.default=n,cc._RF.pop()},{}],ShareTitle:[function(e,t,o){"use strict";cc._RF.push(t,"1f91c78elhOc4uYJ3FuIM5+","ShareTitle"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function e(){}return e.getRandomTitle=function(){},e.getRandomImageUrl=function(){},e.shareSay=["\u8d85\u597d\u73a9\u7684\u6e38\u620f\uff0c\u5feb\u6765\u8bd5\u8bd5\u5427"],e.sharePATH=[1,2,3,4],e}();o.default=n,cc._RF.pop()},{}],Student:[function(e,t,o){"use strict";cc._RF.push(t,"e93fca6N7ZABJvWMVKSrEDX","Student");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var r,a=arguments.length,c=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,n);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(c=(a<3?r(c):a>3?r(t,o,c):r(t,o))||c);return a>3&&c&&Object.defineProperty(t,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=e("../Game"),i=cc._decorator,s=i.ccclass,l=i.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.body=null,t.labSay=null,t.sayNode=null,t.tipsWrong=null,t.id=0,t}var o;return r(t,e),o=t,t.prototype.start=function(){this.init(this.id)},t.prototype.onEnable=function(){if(this.node&&this.node.parent){var e=this.node.parent.name.split("_");Number(e[e.length-1])%2==0&&(this.sayNode.x*=-1,this.sayNode.getChildByName("bg").scaleX*=-1)}},t.prototype.init=function(e){this.id=e,this.body.getComponent(cc.Sprite).spriteFrame=o.body[e],this.sayNode.active=!1},t.prototype.showWrong=function(){c.default.resManager.showAnimation(this.tipsWrong)},t.prototype.showAnswer=function(e){switch(this.labSay.string=e,c.default.resManager.showAnimation(this.sayNode),c.default.tool.randInt(0,2)){case 0:this.showAnimation(o.STATE_ANIMATION.Idle);break;case 1:this.showAnimation(o.STATE_ANIMATION.Hand);break;case 2:this.showAnimation(o.STATE_ANIMATION.Daze)}},t.prototype.showAnimation=function(e){void 0===e&&(e=o.STATE_ANIMATION.Idle),this.node.getChildByName("state").getChildByName("name").getComponent(cc.Label).string=e},t.prototype.onSelectAnswer=function(){var e=this,t=c.default.getCurrAnswer()[0],o=!1;t.forEach(function(t){o||e.labSay.string!==t||(o=!0)}),o?c.default.sendEvent(c.default.data.EVENT_NAME.Answer,{type:c.default.data.EVENT_TYPE_Answer.Correct,studentID:this.id}):c.default.sendEvent(c.default.data.EVENT_NAME.Answer,{type:c.default.data.EVENT_TYPE_Answer.Wrong,studentID:this.id})},t.body=[],t.STATE_ANIMATION=cc.Enum({Idle:"\u5f85\u673a",Hand:"\u4e3e\u624b",Daze:"\u53d1\u5446",Thinking:"\u601d\u8003",Cheat:"\u5c0f\u52a8\u4f5c",Happy:"\u9ad8\u5174",Sad:"\u54ed\u6ce3",Applaud:"\u9f13\u638c",Win:"\u80dc\u5229"}),a([l(cc.Node)],t.prototype,"body",void 0),a([l(cc.Label)],t.prototype,"labSay",void 0),a([l(cc.Node)],t.prototype,"sayNode",void 0),a([l(cc.Node)],t.prototype,"tipsWrong",void 0),o=a([s],t)}(cc.Component);o.default=u,cc._RF.pop()},{"../Game":"Game"}],ToolManager:[function(e,t,o){"use strict";cc._RF.push(t,"a5080SA481DEKYGXHpsPtEJ","ToolManager");var n=this&&this.__spreadArrays||function(){for(var e=0,t=0,o=arguments.length;t<o;t++)e+=arguments[t].length;var n=Array(e),r=0;for(t=0;t<o;t++)for(var a=arguments[t],c=0,i=a.length;c<i;c++,r++)n[r]=a[c];return n};Object.defineProperty(o,"__esModule",{value:!0});var r=function(){function e(){}return e.formatMinuteSecond=function(e){var t=Math.floor(e/60),o=e%60;return(t.toString().length>1?t+"":"0"+t)+"\u5206\u949f"+(o.toString().length>1?o+"":"0"+o)+"\u79d2"},e.sortArray=function(e,t){return void 0===t&&(t=1),e.sort(function(e,o){switch(t){case 1:return e-o;case 2:return o-e;case 3:return Math.random()-.5;default:return e-o}})},e.randArray=function(e){return e.length<=0?null:e[this.randInt(0,e.length-1)]},e.randInt=function(e,t){return(e=Math.ceil(e))>=(t=Math.floor(t))?t:Math.floor(Math.random()*(t-e+1))+e},e.randFloat=function(e,t){return e>=t?t:Math.random()*(t-e)+e},e.inRange=function(e,t,o,n){return void 0===n&&(n=!0),n?o>=e&&o<=t:o>e&&o<t},e.arrayHas=function(e,t){return e.findIndex(function(e){return e===t})>=0},e.arraySwap=function(e,t,o){var n;t!==o&&this.inRange(0,e.length-1,t)&&this.inRange(0,e.length-1,o)&&(n=[e[o],e[t]],e[t]=n[0],e[o]=n[1])},e.arrayMove=function(e,t,o){if(t!==o&&this.inRange(0,e.length-1,t)&&this.inRange(0,e.length-1,o)){var n=e.splice(t,1);e.splice(o,0,n[0])}},e.arrayAdd=function(e,t,o){return void 0===o&&(o=!1),!(!o&&this.arrayHas(e,t)||(e.push(t),0))},e.arrayDelete=function(e,t){var o=e.findIndex(function(e){return e===t});return-1!==o&&(e.splice(o,1),!0)},e.updateWidget=function(e){for(var t=this,o=[],r=1;r<arguments.length;r++)o[r-1]=arguments[r];e.children.forEach(function(e){var r=e.getComponent(cc.Widget);r&&r.updateAlignment(),t.arrayHas(o,e)||t.updateWidget.apply(t,n([e],o))})},e}();o.default=r,cc._RF.pop()},{}],android:[function(e,t,o){"use strict";cc._RF.push(t,"bfbf6Gqq3BPBZm9jjaZIDim","android"),Object.defineProperty(o,"__esModule",{value:!0}),o.showShare=o.onRewardAdStop=o.onRewardAdClose=o.showTips=o.showRewardAD=o.exitGame=o.createRewardedVideoAd=o.showInterstitialAd=o.showBannerAD=o.initAds=o.adFailFunc=o.rewardFuncTar=o.adRewardFunc=void 0;var n=cc._decorator,r=(n.ccclass,n.property,"org/cocos2dx/javascript/AppActivity");function a(){jsb.reflection.callStaticMethod(r,"createRewardVideoAd","()V")}function c(e){jsb.reflection.callStaticMethod(r,"showTips","(Ljava/lang/String)V",e)}function i(){o.adRewardFunc(o.rewardFuncTar)}function s(){c("\u5b8c\u6574\u89c2\u770b\u89c6\u9891\u624d\u80fd\u83b7\u5f97\u5956\u52b1\uff01"),o.adFailFunc&&o.adFailFunc(o.rewardFuncTar)}window.Global_onRewardAdClose=function(e){cc.game.resume(),e?i():s(),o.adRewardFunc=null},o.adRewardFunc=null,o.rewardFuncTar=null,o.adFailFunc=null,o.initAds=function(){a()},o.showBannerAD=function(e){jsb.reflection.callStaticMethod(r,"showBannerAd","(Z)V",e)},o.showInterstitialAd=function(){jsb.reflection.callStaticMethod(r,"showInterstitialAd","()V")},o.createRewardedVideoAd=a,o.exitGame=function(){jsb.reflection.callStaticMethod(r,"exitGame","()V")},o.showRewardAD=function(e,t){o.adRewardFunc=e,o.rewardFuncTar=t,jsb.reflection.callStaticMethod(r,"showRewardedVideoAd","()V"),cc.game.pause()},o.showTips=c,o.onRewardAdClose=i,o.onRewardAdStop=s,o.showShare=function(){jsb.reflection.callStaticMethod(r,"showShare","()V")},cc._RF.pop()},{}],config:[function(e,t,o){"use strict";var n;cc._RF.push(t,"230297quVNFU79/jh2pRol7","config"),Object.defineProperty(o,"__esModule",{value:!0}),o.isTouTiaoPlatform=o.isWeChatPlatform=o.isOpenLog=o.SUB_PACKAGE=o.platform_APPName=o.platform_APPID=o.currentPlatform=o.platformEnum=void 0,function(e){e[e.wechat=1]="wechat",e[e.toutiao=2]="toutiao",e[e.qq=3]="qq",e[e.oppo=4]="oppo",e[e.meizu=5]="meizu",e[e.vivo=6]="vivo",e[e.android=7]="android",e[e.ios=8]="ios",e[e.huawei=9]="huawei",e[e.native=10]="native",e[e.web=11]="web",e[e.ks=12]="ks"}(n=o.platformEnum||(o.platformEnum={})),cc.Enum(n),o.currentPlatform=n.toutiao,function(e){e.wechat_ID="wx1e2de02c99e7352e",e.toutiao_ID="tt206056ddbf58acaf02",e.qq_ID="",e.oppo_ID="",e.vivo_ID="",e.android_ID="",e.ios_ID=""}(o.platform_APPID||(o.platform_APPID={})),function(e){e.wechat_Name="   ",e.toutiao_Name=" ",e.qq_Name=" ",e.oppo_Name=" ",e.vivo_Name=" ",e.android_Name=" ",e.ios_Name=" "}(o.platform_APPName||(o.platform_APPName={})),o.isWeChatPlatform=function(){return cc.sys.platform===cc.sys.WECHAT_GAME&&o.currentPlatform==n.wechat},o.isTouTiaoPlatform=function(){return o.currentPlatform===n.toutiao},cc._RF.pop()},{}],ios:[function(e,t,o){"use strict";cc._RF.push(t,"57fb4ST0PNEbL0t2rewJmVO","ios"),Object.defineProperty(o,"__esModule",{value:!0}),o.onRewardAdStop=o.onRewardAdClose=o.showTips=o.showRewardAD=o.createRewardedVideoAd=o.showInterstitialAd=o.showBannerAD=o.initAds=o.showinsinterval=o.lastshowinstime=o.adFailFunc=o.rewardFuncTar=o.adRewardFunc=void 0;var n=cc._decorator,r=(n.ccclass,n.property,"IOSPlatformCallback");function a(e){console.log("showTips"),jsb.reflection.callStaticMethod(r,"showTips:",e)}function c(){o.adRewardFunc(o.rewardFuncTar)}function i(){a("\u5b8c\u6574\u89c2\u770b\u89c6\u9891\u624d\u80fd\u83b7\u5f97\u5956\u52b1\uff01"),o.adFailFunc&&o.adFailFunc(o.rewardFuncTar)}window.Global_onRewardAdClose_IOS=function(e){cc.game.resume(),o.lastshowinstime=(new Date).getTime(),e?c():i(),o.adRewardFunc=null},o.adRewardFunc=null,o.rewardFuncTar=null,o.adFailFunc=null,o.lastshowinstime=0,o.showinsinterval=5e4,o.initAds=function(){},o.showBannerAD=function(e){jsb.reflection.callStaticMethod(r,"showBannerAd:",e)},o.showInterstitialAd=function(){var e=(new Date).getTime();e-o.lastshowinstime>o.showinsinterval&&(jsb.reflection.callStaticMethod(r,"showInterstitialAd"),o.lastshowinstime=e)},o.createRewardedVideoAd=function(){},o.showRewardAD=function(e,t){o.adRewardFunc=e.success,o.rewardFuncTar=t,e.fail&&(o.adFailFunc=e.fail),cc.game.pause(),jsb.reflection.callStaticMethod(r,"showRewardedVideoAd")},o.showTips=a,o.onRewardAdClose=c,o.onRewardAdStop=i,cc._RF.pop()},{}],ks:[function(e,t,o){"use strict";cc._RF.push(t,"af4baUmEBtB5rJ57py7497P","ks"),Object.defineProperty(o,"__esModule",{value:!0}),o.onShow=o.onHide=o.getSystemInfo=o.getSystemInfoSync=o.vibrateShort=o.vibrateLong=o.showModal=o.shareLp=o.stopLp=o.startLp=o.showShare=o.showTips=o.showRewardAD=o.createRewardedVideoAd=o.initAds=o.init=void 0;var n="2300001331_01",r=null,a=null;function c(){r||(console.log("\u5feb\u624b\u521b\u5efaRewarded \u89c6\u9891\u5e7f\u544a"),(r=ks.createRewardedVideoAd({adUnitId:n})).onError(function(e){console.log("\u5feb\u624bRewarded \u52a0\u8f7d\u5931\u8d25"+e.msg,e.code)}))}function i(e){ks.showToast({title:e,icon:"none",duration:2500})}o.init=function(){console.log("\u521d\u59cb\u5316\u5f55\u5c4f\u5de5\u5177"),(a=new ks.getGameRecorder).on("start",function(){console.log("\u5f55\u5c4f\u5f00\u59cb")}),a.on("error",function(e){console.log(e.error.code,"\u5f55\u5c4f\u9519\u8bef")}),a.on("stop",function(e){console.log(e.videoPath),e.videoPath,console.log("\u5f55\u5c4f\u7ed3\u675f")})},o.initAds=function(){c()},o.createRewardedVideoAd=c,o.showRewardAD=function(){return new Promise(function(e,t){cc.game.pause(),r.show(),r.onClose(function(o){cc.game.resume(),o&&o.isEnded?e():(console.log(o,o.isEnded),i("\u89c2\u770b\u5b8c\u6574\u89c6\u9891\u624d\u80fd\u83b7\u5f97\u5956\u52b1"),t())})})},o.showTips=i,o.showShare=function(e,t){ks.shareAppMessage({success:function(){console.log("\u5206\u4eab\u6210\u529f\uff01"),e&&e(t)},fail:function(){console.log("\u5206\u4eab\u5931\u8d25\uff01")},complete:function(){console.log("complete")}})},o.startLp=function(){a&&(a.start(),Date.now(),console.log("startLP"))},o.stopLp=function(){a&&(a.stop(),Date.now())},o.shareLp=function(e,t){a&&a.publishVideo({callback:function(o){null==o||null==o?(console.log("\u5206\u4eab\u5f55\u5c4f\u6210\u529f"),e(t)):console.log("\u5f55\u5c4f\u5206\u4eab\u5931\u8d25\uff1a"+JSON.stringify(o))}})},o.showModal=function(e,t,o,n){ks.showModal({title:e,content:t,success:function(e){e.confirm?o&&o():e.cancel&&n&&n()},fail:function(){console.log("showModal\u8c03\u7528\u5931\u8d25")}})},o.vibrateLong=function(){},o.vibrateShort=function(){},o.getSystemInfoSync=function(){},o.getSystemInfo=function(){},o.onHide=function(){},o.onShow=function(){},cc._RF.pop()},{}],layer_game_over:[function(e,t,o){"use strict";cc._RF.push(t,"55aa4Ah6ypHGo3Mz6OOrqU6","layer_game_over");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var r,a=arguments.length,c=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,n);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(c=(a<3?r(c):a>3?r(t,o,c):r(t,o))||c);return a>3&&c&&Object.defineProperty(t,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=e("../Game"),i=cc._decorator,s=i.ccclass,l=i.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.labCupCount=null,t.btnBackMain=null,t}return r(t,e),t.prototype.start=function(){var e=this;this.btnBackMain.active=!1,this.scheduleOnce(function(){c.default.resManager.showAnimation(e.btnBackMain)},1),this.init(c.default.data.currAddScore),c.default.data.userScore+=c.default.data.currAddScore},t.prototype.init=function(e){this.labCupCount.string=e},t.prototype.onShareRecord=function(){c.default.apiPlatform.shareLp(function(){c.default.bcakMain()})},a([l(cc.Label)],t.prototype,"labCupCount",void 0),a([l(cc.Node)],t.prototype,"btnBackMain",void 0),a([s],t)}(cc.Component);o.default=u,cc._RF.pop()},{"../Game":"Game"}],layer_select_lesson:[function(e,t,o){"use strict";cc._RF.push(t,"8daec0zE5lEXqKY8yHOL8VM","layer_select_lesson");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var r,a=arguments.length,c=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,n);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(c=(a<3?r(c):a>3?r(t,o,c):r(t,o))||c);return a>3&&c&&Object.defineProperty(t,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=e("../Game"),i=cc._decorator,s=i.ccclass,l=i.property,u=function(e){function t(){var t=e.call(this)||this;return t.simpleLessonGroup=null,t.practiceLessonGroup=null,t.btnSimpleLesson=null,t.btnPracticeLesson=null,o.instance=t,t}var o;return r(t,e),o=t,t.prototype.onLoad=function(){},t.prototype.start=function(){},t.prototype.init=function(){for(var e=c.default.data.userLessonData,t=c.default.data.lessonMaxArr,o=0;o<e.length;o++)o>0&&o<=c.default.data.LESSON_INDEX.senior&&(e[o-1]>t[o-1]/3?this.simpleLessonGroup.children[o].children[1].active=!1:this.simpleLessonGroup.children[o].children[1].active=!0)},t.prototype.onEnable=function(){this.init()},t.prototype.onDisable=function(){},t.prototype.onCloseLayer=function(){c.default.resManager.showAnimation(this.node,c.default.resManager.AnimationClips.move_left_out,!0,!0)},t.prototype.onStartGame=function(e,t){c.default.data.currLesson=Number(t),c.default.sceneManager.loadScene(c.default.SCENE_NAME.BATTLE)},t.prototype.onSelectLessonPage=function(e,t){switch(t=Number(t)){case 0:this.btnSimpleLesson.children[1].active=!0,this.btnPracticeLesson.children[1].active=!1,this.simpleLessonGroup.active=!0,this.practiceLessonGroup.active=!1;break;case 1:this.btnSimpleLesson.children[1].active=!1,this.btnPracticeLesson.children[1].active=!0,this.simpleLessonGroup.active=!1,this.practiceLessonGroup.active=!0}},t.instance=null,a([l(cc.Node)],t.prototype,"simpleLessonGroup",void 0),a([l(cc.Node)],t.prototype,"practiceLessonGroup",void 0),a([l(cc.Node)],t.prototype,"btnSimpleLesson",void 0),a([l(cc.Node)],t.prototype,"btnPracticeLesson",void 0),o=a([s],t)}(cc.Component);o.default=u,cc._RF.pop()},{"../Game":"Game"}],layer_unlock_role:[function(e,t,o){"use strict";cc._RF.push(t,"9ec54OOKmZM/bQCuHgOVEwT","layer_unlock_role");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var r,a=arguments.length,c=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,n);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(c=(a<3?r(c):a>3?r(t,o,c):r(t,o))||c);return a>3&&c&&Object.defineProperty(t,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=e("../Game"),i=cc._decorator,s=i.ccclass,l=i.property,u=function(e){function t(){var t=e.call(this)||this;return t.roleSprite=null,t.labSay=null,t.roleLableGroup=null,t.roleSFArr=[],t.roleInfoArr=[{id:0,spriteIndex:0,say:"\u6211\u662f\u5c0f\u7ea2\uff0c\n\u5927\u5bb6\u597d\u5440\uff01",labelArr:[0]},{id:1,spriteIndex:1,say:"\u6211\u662f\u5c0f\u7eff\uff0c\n\u5927\u5bb6\u597d\u5440\uff01",labelArr:[1,2]},{id:2,spriteIndex:2,say:"\u6211\u662f\u5c0f\u84dd\uff0c\n\u5927\u5bb6\u597d\u5440\uff01",labelArr:[0,1,2]},{id:3,spriteIndex:3,say:"\u6211\u662f\u5c0f\u9ed1\uff0c\n\u5927\u5bb6\u597d\u5440\uff01",labelArr:[0,1,2]},{id:4,spriteIndex:4,say:"\u6211\u662f\u5c0f\u7d2b\uff0c\n\u5927\u5bb6\u597d\u5440\uff01",labelArr:[1,2]},{id:5,spriteIndex:5,say:"\u6211\u662f\u5c0f\u6a59\uff0c\n\u5927\u5bb6\u597d\u5440\uff01",labelArr:[0,1,2]},{id:6,spriteIndex:6,say:"\u6211\u662f\u5c0f\u767d\uff0c\n\u5927\u5bb6\u597d\u5440\uff01",labelArr:[0,1,2]}],o.instance=t,t}var o;return r(t,e),o=t,t.prototype.init=function(e){var t=this;void 0===e&&(e=0),o.roleIndex=e,this.roleSprite.spriteFrame=this.roleSFArr[this.roleInfoArr[e].spriteIndex],this.labSay.string=this.roleInfoArr[e].say,this.roleInfoArr[e].labelArr.forEach(function(e){t.roleLableGroup.children[e].active=!0})},t.prototype.onEnable=function(){cc.log(o.roleIndex),this.init(o.roleIndex)},t.prototype.onDisable=function(){var e=this;this.roleInfoArr[o.roleIndex].labelArr.forEach(function(t){e.roleLableGroup.children[t].active=!1})},t.prototype.onCloseLayer=function(){c.default.resManager.showAnimation(this.node,c.default.resManager.AnimationClips.opacity_fade_out,!1,!0)},t.instance=null,t.roleIndex=0,a([l(cc.Sprite)],t.prototype,"roleSprite",void 0),a([l(cc.Label)],t.prototype,"labSay",void 0),a([l(cc.Node)],t.prototype,"roleLableGroup",void 0),a([l(cc.SpriteFrame)],t.prototype,"roleSFArr",void 0),o=a([s],t)}(cc.Component);o.default=u,cc._RF.pop()},{"../Game":"Game"}],localStorage:[function(e,t,o){"use strict";cc._RF.push(t,"7ef1ceUXJ5PBKS/bxyJvyRl","localStorage");var n=this&&this.__decorate||function(e,t,o,n){var r,a=arguments.length,c=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,n);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(c=(a<3?r(c):a>3?r(t,o,c):r(t,o))||c);return a>3&&c&&Object.defineProperty(t,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r,a=cc._decorator,c=a.ccclass,i=(a.property,function(){function e(){}var t;return t=e,e.setLocalItems=function(e){e.forEach(function(e){var o=e.key,n=e.value;t.setLocalItem(o,n)})},e.setLocalItem=function(e,t){var o="";switch(!0){case null==t:o=new s(r.None,null).toString();break;case"number"==typeof t:o=new s(r.Number,t).toString();break;case"string"==typeof t:o=new s(r.String,t).toString();break;case"boolean"==typeof t:o=new s(r.Boolean,t).toString();break;case t instanceof Array:o=new s(r.Array,t).toString();break;case t instanceof Date:o=new s(r.Date,t).toString();break;case t instanceof Set:o=new s(r.Set,Array.from(t)).toString();break;case t instanceof Map:o=new s(r.Map,Array.from(t)).toString();break;case"object"==typeof t:o=new s(r.Object,t).toString();break;default:return void new Error("\u6682\u4e0d\u652f\u6301\u7684\u6570\u636e\u7c7b\u578b\uff0c\u8bf7\u8f6c\u6362\u540e\u518d\u4f7f\u7528")}cc.sys.localStorage.setItem(this.PROJECT_NAME+"_"+e,o)},e.getLocalItems=function(e){var o=[];return e.forEach(function(e){var n=e.key,r=e.defaultValue;o.push(t.getLocalItem(n,r))}),o},e.getLocalItem=function(e,t){var o=cc.sys.localStorage.getItem(this.PROJECT_NAME+"_"+e);if(o&&""!==o){var n=JSON.parse(o);switch(r[n.type]){case r.None:o=null;break;case r.Number:case r.String:case r.Boolean:case r.Array:o=n.value;break;case r.Date:o=new Date(n.value);break;case r.Set:o=new Set(n.value);break;case r.Map:o=new Map(n.value);break;case r.Object:default:o=n.value}}else o=t;return o},e.removeLocalItems=function(e){e.forEach(function(e){return t.removeLocalItem(e)})},e.removeLocalItem=function(e){cc.sys.localStorage.removeItem(this.PROJECT_NAME+"_"+e)},e.VERSION="1.0.0",e.PROJECT_NAME="TeacherAs",t=n([c],e)}());o.default=i,function(e){e[e.None=-1]="None",e[e.String=0]="String",e[e.Number=1]="Number",e[e.Boolean=2]="Boolean",e[e.Array=3]="Array",e[e.Object=4]="Object",e[e.Date=5]="Date",e[e.Set=6]="Set",e[e.Map=7]="Map"}(r||(r={}));var s=function(){function e(e,t){return this.type=r[r.None],this.value="",this.type=r[e],this.value=t,this}return e.prototype.toString=function(){return JSON.stringify(this)},e}();cc._RF.pop()},{}],meizu:[function(e,t,o){"use strict";cc._RF.push(t,"65e3b3m9ItPtrS+IHp8+QAl","meizu"),Object.defineProperty(o,"__esModule",{value:!0}),o.showTips=o.installShortcut=o.hasShortcutInstalled=o.showRewardAD=o.showInterstitialAd=o.showBannerAD=o.createRewardedVideoAd=o.createInterstitialAd=o.createBannerAd=o.initAds=void 0;var n,r,a,c=cc._decorator,i=(c.ccclass,c.property,"0mIfQa0V"),s="DiZZNma1",l="OV8gmoUN",u=null,f=null,d=null,h=!1,p=!1,m=!1,w=!1;function g(){if(console.log("createBannerAd"),h=!1,qg.createBannerAd&&""!=i){var e=qg.getSystemInfoSync().screenHeight,t=qg.getSystemInfoSync().screenWidth;(u=qg.createBannerAd({adUnitId:i,style:{left:0,top:e-t/6.7,width:t,height:t/6.7}})).onLoad(function(){console.log("createBannerAd success"),h=!0}),u.onError(function(e){console.log("createBannerAd fail err:",e),h=!1}),u.onClose(function(){h=!1,g()})}}function A(){console.log("createInterstitialAd"),m=!1,qg.createInsertAd&&""!=s&&((f=qg.createInsertAd({adUnitId:s})).load(),f.onLoad(function(){console.log("\u63d2\u5c4f\u5e7f\u544a\u52a0\u8f7d"),m=!0}),f.onError(function(e){console.log(e,"createInterstitialAd fail"),m=!1}),f.onClose(function(){m=!1,f.load()}))}function y(){p=!1,console.log("createRewardedVideoAd"),qg.createRewardedVideoAd&&""!=l&&((d=qg.createRewardedVideoAd({adUnitId:l})).load(),p=!1,d.onLoad(function(){console.log("\u89c6\u9891\u5e7f\u544a\u52a0\u8f7d\u6210\u529f"),p=!0}),d.onError(function(e){console.log("Rewarded \u52a0\u8f7d\u5931\u8d25",e),S("\u89c6\u9891\u5e7f\u544a\u52a0\u8f7d\u5931\u8d25"+e.code)}),d.onClose(function(e){p=!1,cc.game.resume(),d.load(),e&&e.isEnded||void 0===e?(console.log("\u64ad\u653e\u5b8c\u6210\u5173\u95ed"),n(a)):(console.log("\u4e2d\u9014\u5173\u95ed\u64ad\u653e"),r(a),S("\u5b8c\u6574\u89c2\u770b\u89c6\u9891\u624d\u80fd\u83b7\u5f97\u5956\u52b1\u54e6"))}))}function S(e){mz.showToast({duration:2500,message:e})}o.initAds=function(){g(),A(),y()},o.createBannerAd=g,o.createInterstitialAd=A,o.createRewardedVideoAd=y,o.showBannerAD=function(e){if(u)if(e){if(w||!h)return;u.show()}else u.hide(),w=!1},o.showInterstitialAd=function(){if(f){if(!m)return void f.load();f.show().catch(function(e){console.log("interstitialAd err",e),A(),f.show()}).then(function(){console.log("interstitialAd")})}else A()},o.showRewardAD=function(e,t){n=e.success,a=t,e.fail&&(r=e.fail),null!=d&&p?(cc.game.pause(),d.show().then(function(){console.log("show then")}).catch(function(){console.log("show catch"),p||(S("\u6682\u65f6\u6ca1\u6709\u53ef\u64ad\u653e\u7684\u5e7f\u544a\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5!"),d.load(),cc.game.resume())})):(S("\u6682\u65f6\u6ca1\u6709\u53ef\u64ad\u653e\u7684\u5e7f\u544a\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5!"),y())},o.hasShortcutInstalled=function(e){qg&&qg.hasShortcutInstalled&&qg.hasShortcutInstalled({success:function(t){0==t?e.fail():e.success()},fail:function(){},complete:function(){}})},o.installShortcut=function(e){qg&&qg.installShortcut&&qg.installShortcut({success:function(){e.success()},fail:function(){e.fail&&e.fail()},complete:function(){}})},o.showTips=S,cc._RF.pop()},{}],oppo:[function(e,t,o){"use strict";cc._RF.push(t,"53b00/8sgxP1719IG095fOk","oppo"),Object.defineProperty(o,"__esModule",{value:!0}),o.showTips=o.showModal=o.showRewardAD=o.showInterstitialAd=o.showBannerAD=o.installShortcut=o.hasShortcutInstalled=o.createRewardedVideoAd=o.createInterstitialAd=o.createBannerAd=o.showGameDrawerAd=o.createGameDrawerAd=o.initAds=void 0;var n=e("../localStorage"),r=cc._decorator,a=(r.ccclass,r.property,"352667"),c="352671",i="352678",s="360504",l=null,u=null,f=null;function d(){cc.sys.isBrowser||qg.getSystemInfoSync().platformVersionCode<1090?console.log("\u5feb\u5e94\u7528\u5e73\u53f0\u53f7\u4f4e\u4e8e1090\uff0c \u6682\u4e0d\u652f\u6301\u4e92\u63a8\u76d2\u5b50\u76f8\u5173 API"):this.gameDrawerAd=qg.createGameDrawerAd({adUnitId:s,style:{top:250}})}function h(){console.log("createBannerAd"),qg.createBannerAd&&((l=qg.createBannerAd({posId:a,style:{top:cc.winSize.height-100,left:0,width:cc.winSize.width,height:100}})).onLoad(function(){console.log("createBannerAd success")}),l.onError(function(e){console.log(e.errCode,"createBannerAd fail")}))}function p(){console.log("createInterstitialAd"),qg.createInterstitialAd&&((u=qg.createInterstitialAd({posId:c})).onLoad(function(){console.log("\u63d2\u5c4f\u5e7f\u544a\u52a0\u8f7d")}),u.onError(function(e){console.log(e.errCode,"createInterstitialAd fail")}))}function m(){console.log("createRewardedVideoAd"),qg.createRewardedVideoAd?((f=qg.createRewardedVideoAd({posId:i})).onLoad(function(){console.log("\u89c6\u9891\u5e7f\u544a\u52a0\u8f7d\u6210\u529f")}),f.onError(function(e){console.log("Rewarded \u52a0\u8f7d\u5931\u8d25"+e.errCode)}),f.load()):console.log("qg \u4e0d\u5b58\u5728")}function w(e){qg.showToast({title:e,icon:"none",duration:2500})}o.initAds=function(){h(),p(),m(),d()},o.createGameDrawerAd=d,o.showGameDrawerAd=function(e){void 0===e&&(e=!0),this.gameDrawerAd?e?this.gameDrawerAd.show():this.gameDrawerAd.hide():this.createGameDrawerAd()},o.createBannerAd=h,o.createInterstitialAd=p,o.createRewardedVideoAd=m,o.hasShortcutInstalled=function(e){qg&&qg.hasShortcutInstalled&&qg.hasShortcutInstalled({success:function(t){0==t?e.fail():e.success()},fail:function(){},complete:function(){}})},o.installShortcut=function(e){qg&&qg.installShortcut&&qg.installShortcut({success:function(){e.success()},fail:function(){e.fail&&e.fail()},complete:function(){}})},o.showBannerAD=function(e){if(cc.director.getTotalTime()<6e4)console.log("\u663e\u793abanner\u5931\u8d25  ====>  err: 60s\u540e\u624d\u80fd\u663e\u793a");else if(l)if(e){var t=n.default.getLocalItem("showBannerTimes",0),o=n.default.getLocalItem("secondBannerShowTime",0),r=Date.now()-o;if(r<30&&t>=2)return;r>30&&t>=2&&(t=0,o=Date.now()),t++,l.show().catch(function(e){console.log("banner err",e.errCode),h(),l.show()}).then(function(){console.log("banner\u5c55\u793a"),n.default.setLocalItem("showBannerTimes",t),n.default.setLocalItem("secondBannerShowTime",o)})}else l.hide();else this.createBannerAd()},o.showInterstitialAd=function(){u?u.show().catch(function(e){console.log("interstitialAd err",e),p(),u.show()}).then(function(){console.log("interstitialAd")}):p()},o.showRewardAD=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=null),new Promise(function(t,o){if(!f)return w("\u6682\u65f6\u6ca1\u6709\u53ef\u64ad\u653e\u7684\u5e7f\u544a\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5!"),m(),void o();cc.game.pause(),f.show().catch(function(){cc.game.resume(),w("\u6682\u65f6\u6ca1\u6709\u53ef\u64ad\u653e\u7684\u5e7f\u544a\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5!"),f.load(),o()}),f.onClose(function(n){cc.game.resume(),f.load(),n&&n.isEnded||void 0===n?(console.log("\u64ad\u653e\u5b8c\u6210\u5173\u95ed"),e&&e.target,t("\u64ad\u653e\u5b8c\u6210")):(console.log("\u4e2d\u9014\u5173\u95ed\u64ad\u653e"),w("\u5b8c\u6574\u89c2\u770b\u89c6\u9891\u624d\u80fd\u83b7\u5f97\u5956\u52b1\u54e6"),o())})})},o.showModal=function(){},o.showTips=w,cc._RF.pop()},{"../localStorage":"localStorage"}],qq:[function(e,t,o){"use strict";cc._RF.push(t,"6fbe4QTZS9MBatqG8ob67JA","qq"),Object.defineProperty(o,"__esModule",{value:!0}),o.removeDownloadFile=o.downImageFile=o.loadSubpackage=o.login=o.onShow=o.onHide=o.toMiniGame=o.getSystemInfo=o.getSystemInfoSync=o.vibrateShort=o.vibrateLong=o.showModal=o.showShare=o.showTips=o.openShare=o.showRewardAD=o.showAppBoxAd=o.showInterstitialAd=o.showBannerAD=o.showGridAD=o.createBlockAd=o.createRewardedVideoAd=o.createAppBox=o.createInterstitialAd=o.createBannerAd=o.initAds=o.init=void 0;var n,r,a,c,i,s,l=e("../ShareTitle"),u=cc._decorator,f=(u.ccclass,u.property,""),d="",h="",p="",m="",w=null,g=null,A=null,y=null,S=null,v=!1,b=!1;function _(){qq.createBannerAd&&""!=f&&(w=qq.createBannerAd({adUnitId:f,style:{width:200,left:qq.getSystemInfoSync().windowWidth/2-100,top:qq.getSystemInfoSync().windowHeight-112.5}}),qq.getSystemInfo({success:function(e){console.log(e.appName),w.onResize(function(e){console.log(e.width,e.height),w.style.top=qq.getSystemInfoSync().windowHeight-e.height,w.style.left=(qq.getSystemInfoSync().windowWidth-e.width)/2}),w.onError(function(e){console.log(e),console.log("createBannerAd fail")})}}))}function I(){qq.createInterstitialAd&&""!=d&&(g=qq.createInterstitialAd({adUnitId:d})).load()}function P(){qq.createAppBox&&""!=m&&(S=qq.createAppBox({adUnitId:m})).load()}function E(){qq.createRewardedVideoAd&&""!=h&&(A=qq.createRewardedVideoAd({adUnitId:h}),v=!1,A.onLoad(function(){console.log("\u52a0\u8f7d\u6210\u529f"),v=!0}),A.onError(function(e){console.log("Rewarded \u52a0\u8f7d\u5931\u8d25"+e),v=!1}),A.onClose(function(e){cc.game.resume(),e&&e.isEnded||void 0===e?(console.log("\u64ad\u653e\u5b8c\u6210\u5173\u95ed"),n(a)):(console.log("\u4e2d\u9014\u5173\u95ed\u64ad\u653e"),qq.showToast({title:"\u5b8c\u6574\u89c2\u770b\u89c6\u9891\u624d\u80fd\u83b7\u5f97\u5956\u52b1\u54e6",icon:"none",duration:2500}),r&&r(a))}))}function M(){qq.createBlockAd&&""!=p&&((y=qq.createBlockAd({adUnitId:p,style:{left:qq.getSystemInfoSync().windowWidth/2-100,top:qq.getSystemInfoSync().windowHeight-112.5},size:5,orientation:"landscape"})).onLoad(function(){console.log("blockAd load"),y.show()}),y.onResize(function(e){console.log("Resize\u540e\u6b63\u5f0f\u5bbd\u9ad8:",e.realWidth,e.realHeight),y.style.top=qq.getSystemInfoSync().windowHeight-e.realHeight,y.style.left=(qq.getSystemInfoSync().windowWidth-e.realWidth)/2}),y.onError(function(e){console.log(e),console.log("blockAd fail")}))}function R(e){qq.showToast({title:e,icon:"none",duration:2500})}o.init=function(){qq.onShow(function(){b&&(b=!1,Date.now()-c>=2500?i&&i(s):R("\u5206\u4eab\u5931\u8d25\uff0c\u8bf7\u91cd\u8bd5\uff01"),i=null)})},o.initAds=function(){_(),I(),E(),P()},o.createBannerAd=_,o.createInterstitialAd=I,o.createAppBox=P,o.createRewardedVideoAd=E,o.createBlockAd=M,o.showGridAD=function(e){e?M():null!=y&&y.destroy()},o.showBannerAD=function(e){null!=w&&(e?w.show():w.hide())},o.showInterstitialAd=function(){null!=g&&g.show().catch(function(e){console.warn("interAD error",e)})},o.showAppBoxAd=function(){S&&S.show()},o.showRewardAD=function(){return new Promise(function(e,t){if(null==A)return qq.showToast({title:"\u6682\u65f6\u6ca1\u6709\u53ef\u64ad\u653e\u7684\u5e7f\u544a\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5!",icon:"none",duration:2500}),E(),void t("\u6682\u65f6\u6ca1\u6709\u53ef\u64ad\u653e\u7684\u5e7f\u544a\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5!");cc.game.pause(),A.show().then(function(){A.onClose(function(o){cc.game.resume(),o&&o.isEnded||void 0===o?(console.log("\u64ad\u653e\u5b8c\u6210\u5173\u95ed"),e(0)):(console.log("\u4e2d\u9014\u5173\u95ed\u64ad\u653e"),qq.showToast({title:"\u5b8c\u6574\u89c2\u770b\u89c6\u9891\u624d\u80fd\u83b7\u5f97\u5956\u52b1\u54e6",icon:"none",duration:2500}),t("\u5b8c\u6574\u89c2\u770b\u89c6\u9891\u624d\u80fd\u83b7\u5f97\u5956\u52b1\u54e6"))})}).catch(function(){console.log("show catch"),v||(qq.showToast({title:"\u6682\u65f6\u6ca1\u6709\u53ef\u64ad\u653e\u7684\u5e7f\u544a\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5!",icon:"none",duration:2500}),A.load(),t("\u6682\u65f6\u6ca1\u6709\u53ef\u64ad\u653e\u7684\u5e7f\u544a\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5!")),cc.game.resume()})})},o.openShare=function(){qq.showShareMenu&&(qq.showShareMenu({withShareTicket:!0,showShareItems:["qq","qzone"]}),qq.onShareAppMessage(function(){return{title:l.default.getRandomTitle(),imageUrl:l.default.getRandomImageUrl()}}))},o.showTips=R,o.showShare=function(e,t){qq.shareAppMessage({title:l.default.getRandomTitle(),imageUrl:l.default.getRandomImageUrl()}),i=e,s=t,b=!0,c=Date.now()},o.showModal=function(e,t,o,n){qq.showModal({title:e,content:t,success:function(e){e.confirm?o&&o():e.cancel&&n&&n()}})},o.vibrateLong=function(){qq.vibrateLong({success:function(e){console.log(""+e)},fail:function(){console.log("vibrateLong\u8c03\u7528\u5931\u8d25")}})},o.vibrateShort=function(){qq.vibrateShort({success:function(e){console.log(""+e)},fail:function(){console.log("vibrateLong\u8c03\u7528\u5931\u8d25")}})},o.getSystemInfoSync=function(){try{return qq.getSystemInfoSync()}catch(e){console.log("getSystemInfoSync fail")}},o.getSystemInfo=function(e){qq.getSystemInfo({success:function(){e.success()},fail:function(){e.fail&&e.fail()},complete:function(){e.complete&&e.complete()}})},o.toMiniGame=function(e){qq.navigateToMiniProgram({appId:e,path:"",extraData:{time:(new Date).valueOf()},success:function(){}})},o.onHide=function(e){qq.onHide(function(){e()})},o.onShow=function(e){qq.onShow(function(){e()})},o.login=function(){return new Promise(function(e,t){qq.login({timeout:3e3,success:function(o){o.code?e(o.code):t("\u672a\u83b7\u53d6\u5230code")},fail:function(e){t(e)}})})},o.loadSubpackage=function(e){return new Promise(function(t,o){qq.loadSubpackage({name:e,success:function(){console.log("qq\u52a0\u8f7d\u5206\u5305====> \u6210\u529f","\u5206\u5305\u540d:"+e),t(0)},fail:function(t){console.log("qq\u52a0\u8f7d\u5206\u5305====> \u5931\u8d25","\u5206\u5305\u540d:"+e,"err = "+t),o()}})})},o.downImageFile=function(e){for(var t=""+wx.env.USER_DATA_PATH,o=e.split("resource/")[1];-1!=o.indexOf("/");){var n=o.indexOf("/"),r=o.substring(0,n),a=o.substring(n+1,o.length);o=r+"-"+a}var c=t+"/"+o,i=qq.getFileSystemManager();return new Promise(function(t,o){i.stat({path:c,success:function(e){e.stats.isDirectory(),e.stats.isFile()&&t(c)},fail:function(){qq.downloadFile({url:e,success:function(e){i.saveFile({tempFilePath:e.tempFilePath,filePath:c,success:function(){console.log("\u4fdd\u5b58\u5230\u672c\u5730!!!"),t(c)},fail:function(){o("\u6587\u4ef6\u4fdd\u5b58\u5931\u8d25!")}})},fail:function(){o("\u6587\u4ef6\u4e0b\u8f7d\u5931\u8d25!")}})}})})},o.removeDownloadFile=function(e){for(var t=""+wx.env.USER_DATA_PATH,o=e.split("resource/")[1];-1!=o.indexOf("/");){var n=o.indexOf("/"),r=o.substring(0,n),a=o.substring(n+1,o.length);o=r+"-"+a}var c=t+"/"+o,i=qq.getFileSystemManager();return new Promise(function(t,o){i.stat({path:c,success:function(n){n.stats.isFile()&&(i.unlink({filePath:c,success:function(){console.log("\u5220\u9664\u672c\u5730\u56fe\u7247\u6210\u529f!!!!!",e),t(0)},fail:function(){o()}}),t(c))},fail:function(){console.log("\u672c\u5730\u56fe\u7247\u4e0d\u5b58\u5728",e),t(0)}})})},cc._RF.pop()},{"../ShareTitle":"ShareTitle"}],toutiao:[function(e,t,o){"use strict";cc._RF.push(t,"a5743+2vYNBhou9CtdB+A8O","toutiao"),Object.defineProperty(o,"__esModule",{value:!0}),o.reportAnalytics=o.removeDownloadFile=o.downImageFile=o.loadSubpackage=o.login=o.onShow=o.onHide=o.toMiniGame=o.getSystemInfo=o.getSystemInfoSync=o.vibrateShort=o.vibrateLong=o.showModal=o.shareLp=o.stopLp=o.startLp=o.showShare=o.setMoreGamesInfo=o.showTips=o.openShare=o.showRewardAD=o.showInterstitialAd=o.createInterstitialAd=o.showBannerAD=o.createRewardedVideoAd=o.createBannerAd=o.initAds=o.init=void 0;var n,r,a,c=cc._decorator,i=(c.ccclass,c.property,e("../config")),s=e("../ShareTitle"),l="25l0bf1nbnm33d5n7j",u="6qlf0s6d0hr2uxbq1c",f="5djcmkc8n9p47qk7f1",d=null,h=null,p=null,m=null,w=!1,g=0;function A(){tt.createBannerAd&&(h=tt.createBannerAd({adUnitId:l,style:{width:200,left:tt.getSystemInfoSync().windowWidth/2-100,top:tt.getSystemInfoSync().windowHeight-112.5}}),tt.getSystemInfo({success:function(e){console.log(e.appName),h.onResize(function(e){console.log(e.width,e.height),h.style.top=tt.getSystemInfoSync().windowHeight-e.height,h.style.left=(tt.getSystemInfoSync().windowWidth-e.width)/2}),h.onError(function(e){console.log(e),console.log("createBannerAd fail")})}}))}function y(){tt.createRewardedVideoAd&&(m=tt.createRewardedVideoAd({adUnitId:f}),w=!1,m.onLoad(function(){console.log("\u52a0\u8f7d\u6210\u529f"),w=!0}),m.onError(function(e){console.log("Rewarded \u52a0\u8f7d\u5931\u8d25"+e,e.errCode),w=!1}),m.load())}function S(){console.log("createInterstitialAd"),tt.createInterstitialAd&&(p=tt.createInterstitialAd({adUnitId:u}))}o.init=function(){console.log("\u521d\u59cb\u5316\u5f55\u5c4f\u5de5\u5177"),(d=new tt.getGameRecorderManager).onStop(function(e){console.log(e.videoPath),a=e.videoPath,console.log("\u5f55\u5c4f\u7ed3\u675f")})},o.initAds=function(){S(),A(),y()},o.createBannerAd=A,o.createRewardedVideoAd=y,o.showBannerAD=function(e){null!=h?e?h.show():h.hide():A()},o.createInterstitialAd=S,o.showInterstitialAd=function(){console.log("showInterstitialAd"),Date.now()-g<=3e4?console.log("showInterstitialAd fail err: \u95f4\u9694\u5c0f\u4e8e30s"):null!=p?(p.load().then(function(){g=Date.now(),p.show()}).catch(function(e){console.log("showInterstitialAd fail err:",e)}),p.onLoad(),console.log("showInterstitialAd load success"),p.onClose(function(){p.destory()}),p.onError(function(e){console.log("err",e),S()})):S()},o.showRewardAD=function(){return new Promise(function(e,t){if(null==m)return tt.showToast({title:"\u6682\u65f6\u6ca1\u6709\u53ef\u64ad\u653e\u7684\u5e7f\u544a\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5!",icon:"none",duration:2500}),y(),void t("\u6682\u65f6\u6ca1\u6709\u53ef\u64ad\u653e\u7684\u5e7f\u544a\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5!");cc.game.pause(),m.show().then(function(){m.onClose(function(o){cc.game.resume(),o&&o.isEnded||void 0===o?(console.log("\u64ad\u653e\u5b8c\u6210\u5173\u95ed"),e(0)):(console.log("\u4e2d\u9014\u5173\u95ed\u64ad\u653e"),tt.showToast({title:"\u5b8c\u6574\u89c2\u770b\u89c6\u9891\u624d\u80fd\u83b7\u5f97\u5956\u52b1\u54e6",icon:"none",duration:2500}),t("\u5b8c\u6574\u89c2\u770b\u89c6\u9891\u624d\u80fd\u83b7\u5f97\u5956\u52b1\u54e6"))})}).catch(function(){console.log("show catch"),w||(tt.showToast({title:"\u6682\u65f6\u6ca1\u6709\u53ef\u64ad\u653e\u7684\u5e7f\u544a\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5!",icon:"none",duration:2500}),m.load(),t("\u6682\u65f6\u6ca1\u6709\u53ef\u64ad\u653e\u7684\u5e7f\u544a\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5!")),cc.game.resume()})})},o.openShare=function(){wx.showShareMenu&&(wx.showShareMenu({withShareTicket:!0}),wx.onShareAppMessage(function(){return{title:s.default.getRandomTitle(),imageUrl:s.default.getRandomImageUrl()}}))},o.showTips=function(e){tt.showToast({title:e,icon:"none",duration:2500})},o.setMoreGamesInfo=function(){tt.setMoreGamesInfo&&tt.setMoreGamesInfo({appLaunchOptions:[]})},o.showShare=function(e,t){tt.shareAppMessage({title:s.default.getRandomTitle(),imageUrl:+s.default.getRandomImageUrl(),success:function(){console.log("\u5206\u4eab\u6210\u529f\uff01"),e&&e(t)},fail:function(){console.log("\u5206\u4eab\u5931\u8d25\uff01")},complete:function(){console.log("complete")}})},o.startLp=function(){d&&(d.start({duration:300}),n=Date.now(),console.log("startLP"))},o.stopLp=function(){d&&(d.stop(),r=Date.now()),console.log("stopLp")},o.shareLp=function(e,t){d&&r-n>=3100?tt.shareAppMessage({channel:"video",title:"\u5feb\u6765\u8bd5\u8bd5"+i.platform_APPName.toutiao_Name,imageUrl:"",query:"",extra:{videoPath:a,video_title:"#\u8d85\u7ea7\u627e\u4e0d\u540c \u5feb\u6765\u8003\u8003\u4f60\u7684\u773c\u529b\uff01"+i.platform_APPName.toutiao_Name},success:function(){console.log("\u5206\u4eab\u89c6\u9891\u6210\u529f"),e&&e(t)},fail:function(e){console.log("\u5206\u4eab\u89c6\u9891\u5931\u8d25",e),-1==e.errMsg.split(":")[1].search("cancel")?tt.getSystemInfo({success:function(e){console.log(e.appName),"XiGua"==e.appName||tt.showToast({title:"\u5f55\u5236\u89c6\u9891\u4e0d\u8db33s",icon:"none",duration:2e3})}}):tt.showToast({})}}):tt.showToast({title:"\u5f55\u5236\u89c6\u9891\u4e0d\u8db33s",icon:"none",duration:2e3})},o.showModal=function(e,t,o,n){tt.showModal({title:e,content:t,success:function(e){e.confirm?o&&o():e.cancel&&n&&n()},fail:function(){console.log("showModal\u8c03\u7528\u5931\u8d25")}})},o.vibrateLong=function(){tt.vibrateLong({success:function(e){console.log(""+e)},fail:function(){console.log("vibrateLong\u8c03\u7528\u5931\u8d25")}})},o.vibrateShort=function(){tt.vibrateShort({success:function(e){console.log(""+e)},fail:function(){console.log("vibrateLong\u8c03\u7528\u5931\u8d25")}})},o.getSystemInfoSync=function(){try{return tt.getSystemInfoSync()}catch(e){console.log("getSystemInfoSync fail")}},o.getSystemInfo=function(e){tt.getSystemInfo({success:function(){e.success()},fail:function(){e.fail&&e.fail()},complete:function(){e.complete&&e.complete()}})},o.toMiniGame=function(){tt.showMoreGamesModal({appLaunchOptions:[],success:function(e){console.log("success",e.errMsg)},fail:function(e){console.log("fail",e.errMsg)}})},o.onHide=function(e){tt.onHide(function(){e()})},o.onShow=function(e){tt.onShow(function(){e()})},o.login=function(){return new Promise(function(e,t){tt.login({force:!1,success:function(t){t.isLogin?e(t.code):e(t.anonymousCode)},fail:function(e){t(e)}})})},o.loadSubpackage=function(e){return new Promise(function(t,o){tt.loadSubpackage({name:e,success:function(){console.log("\u5934\u6761\u52a0\u8f7d\u5206\u5305====> \u6210\u529f","\u5206\u5305\u540d:"+e),t(0)},fail:function(t){console.log("\u5934\u6761\u52a0\u8f7d\u5206\u5305====> \u5931\u8d25","\u5206\u5305\u540d:"+e,"err = "+t),o()}})})},o.downImageFile=function(e){for(var t=""+tt.env.USER_DATA_PATH,o=e.split("resource/")[1];-1!=o.indexOf("/");){var n=o.indexOf("/"),r=o.substring(0,n),a=o.substring(n+1,o.length);o=r+"-"+a}var c=t+"/"+o,i=tt.getFileSystemManager();return new Promise(function(t,o){i.stat({path:c,success:function(e){e.stats.isDirectory(),e.stats.isFile()&&t(c)},fail:function(){tt.downloadFile({url:e,success:function(e){tt.saveFile({tempFilePath:e.tempFilePath,filePath:c,success:function(){console.log("\u4fdd\u5b58\u5230\u672c\u5730!!!"),t(c)},fail:function(){o("\u6587\u4ef6\u4fdd\u5b58\u5931\u8d25!")}})},fail:function(){o("\u6587\u4ef6\u4e0b\u8f7d\u5931\u8d25!")}})}})})},o.removeDownloadFile=function(e){for(var t=""+tt.env.USER_DATA_PATH,o=e.split("resource/")[1];-1!=o.indexOf("/");){var n=o.indexOf("/"),r=o.substring(0,n),a=o.substring(n+1,o.length);o=r+"-"+a}var c=t+"/"+o,i=tt.getFileSystemManager();return new Promise(function(t,o){i.stat({path:c,success:function(n){n.stats.isFile()&&(i.unlink({filePath:c,success:function(){console.log("\u5220\u9664\u672c\u5730\u56fe\u7247\u6210\u529f!!!!!",e),t(0)},fail:function(){o()}}),t(c))},fail:function(){console.log("\u672c\u5730\u56fe\u7247\u4e0d\u5b58\u5728",e),t(0)}})})},o.reportAnalytics=function(e,t){tt.reportAnalytics(e,t)},cc._RF.pop()},{"../ShareTitle":"ShareTitle","../config":"config"}],vivo:[function(e,t,o){"use strict";cc._RF.push(t,"8619fBRmsJN95qvzkTBBg3S","vivo"),Object.defineProperty(o,"__esModule",{value:!0}),o.showTips=o.showModal=o.showRewardAD=o.showInterstitialAd=o.showBannerAD=o.installShortcut=o.hasShortcutInstalled=o.createNativeAd=o.createRewardedVideoAd=o.createInterstitialAd=o.createBannerAd=o.initAds=o.init=o.login=o.downImageFile=o.loadSubpackage=void 0;var n=e("../localStorage");o.loadSubpackage=function(e){return new Promise(function(t,o){qg.loadSubpackage({name:e,success:function(){console.log("oppo\u52a0\u8f7d\u5206\u5305====> \u6210\u529f","\u5206\u5305\u540d:"+e),t(0)},fail:function(t){console.log("oppo\u52a0\u8f7d\u5206\u5305====> \u5931\u8d25","\u5206\u5305\u540d:"+e,"err = "+t),o()}})})},o.downImageFile=function(){return new Promise(function(e,t){qg.downloadFile({success:function(t){var o=JSON.stringify(t.data);console.log(o),e(o)},fail:function(e){console.log(JSON.stringify(e)),t(e)}})})},o.login=function(){return new Promise(function(e,t){qg.login({success:function(t){e(t.data.token)},fail:function(e){console.log(JSON.stringify(e)),t(e)}})})};var r=cc._decorator,a=(r.ccclass,r.property,"5976af2bfc764faeb1495366688a1236"),c="1351e9d900c944e2a3e5f6b9bfb932f0",i="6df6c9f6c77b4df691579cab3e1156a8",s=null,l=null,u=null,f=!1,d=!1;function h(){console.log("createBannerAd"),qg.createBannerAd&&((s=qg.createBannerAd({posId:a,style:{}})).onLoad(function(){console.log("createBannerAd success")}),s.onError(function(e){console.log(e.errCode),console.log("createBannerAd fail")}))}function p(){console.log("createInterstitialAd"),qg.createInterstitialAd&&((l=qg.createInterstitialAd({posId:c})).onLoad(function(){console.log("\u63d2\u5c4f\u5e7f\u544a\u52a0\u8f7d")}),l.onError(function(e){console.log(e.errCode,"createInterstitialAd fail")}))}function m(){f=!1,console.log("createRewardedVideoAd"),qg.createRewardedVideoAd?(u=qg.createRewardedVideoAd({posId:i}),console.log("\u5e7f\u544a\u52a0\u8f7d\u4e2d........"),f=!1,u.onLoad(function(){console.log("\u89c6\u9891\u5e7f\u544a\u52a0\u8f7d\u6210\u529f"),f=!0}),u.onError(function(e){console.log("Rewarded \u52a0\u8f7d\u5931\u8d25"+e.errCode),f=!1}),u.load()):console.log("qg \u4e0d\u5b58\u5728")}function w(e){qg.showToast({message:e})}o.init=function(){},o.initAds=function(){h(),p(),m()},o.createBannerAd=h,o.createInterstitialAd=p,o.createRewardedVideoAd=m,o.createNativeAd=function(){},o.hasShortcutInstalled=function(e){qg&&qg.hasShortcutInstalled&&qg.hasShortcutInstalled({success:function(t){0==t?e.fail():e.success()},fail:function(){},complete:function(){}})},o.installShortcut=function(e){qg&&qg.installShortcut&&qg.installShortcut({success:function(){e.success()},fail:function(){e.fail&&e.fail()},complete:function(){}})},o.showBannerAD=function(e){if(s)if(e){if(d)return;var t=n.default.getLocalItem("showBannerTimes",0),o=n.default.getLocalItem("secondBannerShowTime",0),r=Date.now()-o;if(r<30&&t>=2)return;r>30&&t>=2&&(t=0,o=Date.now()),t++,s.show().catch(function(e){console.log("banner err",e.errCode),h(),s.show()}).then(function(){d=!0,console.log("banner\u5c55\u793a"),n.default.setLocalItem("showBannerTimes",t),n.default.setLocalItem("secondBannerShowTime",o)})}else s.hide(),d=!1},o.showInterstitialAd=function(){l?l.show().catch(function(e){console.log("interstitialAd err",e),p(),l.show()}).then(function(){console.log("interstitialAd")}):p()},o.showRewardAD=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=null),new Promise(function(t,o){null!=u&&f?(cc.game.pause(),u.show().then(function(){console.log("show then")}).catch(function(){console.log("show catch"),f||(w("\u6682\u65f6\u6ca1\u6709\u53ef\u64ad\u653e\u7684\u5e7f\u544a\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5!"),o("\u6682\u65f6\u6ca1\u6709\u53ef\u64ad\u653e\u7684\u5e7f\u544a\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5!"),u.load(),cc.game.resume())}),u.onClose(function(n){f=!1,cc.game.resume(),u.load(),n&&n.isEnded||void 0===n?(console.log("\u64ad\u653e\u5b8c\u6210\u5173\u95ed"),e&&e.target,t("\u64ad\u653e\u5b8c\u6210")):(o("\u5b8c\u6574\u89c2\u770b\u89c6\u9891\u624d\u80fd\u83b7\u5f97\u5956\u52b1\u54e6"),console.log("\u4e2d\u9014\u5173\u95ed\u64ad\u653e"),w("\u5b8c\u6574\u89c2\u770b\u89c6\u9891\u624d\u80fd\u83b7\u5f97\u5956\u52b1\u54e6"))})):(console.log(u,f),w("\u6682\u65f6\u6ca1\u6709\u53ef\u64ad\u653e\u7684\u5e7f\u544a\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5!"),o(),m())})},o.showModal=function(e,t,o,n){qg.showDialog({title:e,message:t,buttons:[{text:"\u786e\u8ba4",color:"#33dd44"},{text:"\u53d6\u6d88",color:"#FF0044"}],success:function(){o(),console.log("handling callback")},cancel:function(){n(),console.log("handling cancel")},fail:function(e,t){n(),console.log("handling fail, code = "+t)}})},o.showTips=w,cc._RF.pop()},{"../localStorage":"localStorage"}],web:[function(e,t,o){"use strict";cc._RF.push(t,"94106M9U8hFuJrob9TlRh7h","web"),Object.defineProperty(o,"__esModule",{value:!0}),o.showShare=o.checkHad4399Ad=o.showRewardAd=void 0;var n=cc.Enum({playSuccess:0,successClose:1,playFaild:2});o.showRewardAd=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=null),new Promise(function(o){window.h5api.playAd(function(r){console.log("code"+r.code+", msg"+r.message),1e4===r.code?(cc.log("\u5f00\u59cb\u64ad\u653e"),n.playSuccess):10001===r.code?(cc.log("\u64ad\u653e\u7ed3\u675f"),n.successClose,e&&e(t),o()):(cc.log("\u5e7f\u544a\u5f02\u5e38"),n.playFaild)})})},o.checkHad4399Ad=function(e){window.h5api.canPlayAd(function(t){console.log("\u662f\u5426\u53ef\u64ad\u653e\u5e7f\u544a",t.canPlayAd,"\u5269\u4f59\u6b21\u6570",t.remain),t.canPlayAd?e():console.log("\u6ca1\u6709\u5e7f\u544a")})},o.showShare=function(e,t){window.h5api.share(),e(t)},cc._RF.pop()},{}],wechat:[function(e,t,o){"use strict";cc._RF.push(t,"5abea8Nf51M3a5xDx5G6UxE","wechat"),Object.defineProperty(o,"__esModule",{value:!0}),o.removeDownloadFile=o.downImageFile=o.loadSubpackage=o.login=o.onShow=o.onHide=o.toMiniGame=o.getSystemInfo=o.getSystemInfoSync=o.vibrateShort=o.vibrateLong=o.showModal=o.showShare=o.showTips=o.openShare=o.showRewardAD=o.showInterstitialAd=o.showGridAD=o.showBannerAD=o.createRewardedVideoAd=o.createInterstitialAd=o.createGridAd=o.createBannerAd=o.initAds=o.init=void 0;var n,r,a,c,i=e("../ShareTitle"),s=cc._decorator,l=(s.ccclass,s.property,"adunit-bb77b26883d1845c"),u="adunit-a28088b3f77345f1",f="adunit-6f1d567d5b351816",d="",h=null,p=null,m=null,w=null,g=!1,A=!1;function y(){wx.createBannerAd&&""!=l&&(h=wx.createBannerAd({adUnitId:l,style:{width:200,left:wx.getSystemInfoSync().windowWidth/2-100,top:wx.getSystemInfoSync().windowHeight-112.5}}),wx.getSystemInfo({success:function(){h.onResize(function(e){console.log(e.width,e.height),h.style.top=wx.getSystemInfoSync().windowHeight-e.height,h.style.left=(wx.getSystemInfoSync().windowWidth-e.width)/2}),h.onError(function(e){console.log(e),console.log("createBannerAd fail")})}}))}function S(){if(wx.createGridAd&&""!=d){var e=110;wx.getSystemInfoSync().windowHeight/wx.getSystemInfoSync().windowWidth>2.1&&(e=130),(w=wx.createGridAd({adUnitId:d,adTheme:"white",gridCount:5,style:{left:(wx.getSystemInfoSync().windowWidth-330)/2,top:wx.getSystemInfoSync().windowHeight-e,width:330,opacity:.8}})).onLoad(function(){n=!1,console.warn("createGridAd onLoad")}),w.onError(function(e){n=!0,console.warn("createGridAd fail",e),w.destroy()})}}function v(){wx.createInterstitialAd&&""!=u&&(p=wx.createInterstitialAd({adUnitId:u}))}function b(){wx.createRewardedVideoAd&&""!=f&&(m=wx.createRewardedVideoAd({adUnitId:f}),g=!1,m.onLoad(function(){console.log("\u52a0\u8f7d\u6210\u529f"),g=!0}),m.onError(function(e){console.log("Rewarded \u52a0\u8f7d\u5931\u8d25"+e),g=!1}))}function _(e){wx.showToast({title:e,icon:"none",duration:2500})}o.init=function(){wx.onShow(function(){A&&(A=!1,Date.now()-r>=2500?a&&a(c):_("\u5206\u4eab\u5931\u8d25\uff0c\u8bf7\u91cd\u8bd5\uff01"),a=null)})},o.initAds=function(){y(),b(),v(),S()},o.createBannerAd=y,o.createGridAd=S,o.createInterstitialAd=v,o.createRewardedVideoAd=b,o.showBannerAD=function(e){null!=h?e?h.show():h.hide():y()},o.showGridAD=function(e){null!=w?e?n?h.show():w.show():n?h.hide():w.hide():S()},o.showInterstitialAd=function(){null!=p?p.show().catch(function(e){console.warn("interAD error",e)}):v()},o.showRewardAD=function(){return new Promise(function(e,t){if(null==m)return wx.showToast({title:"\u6682\u65f6\u6ca1\u6709\u53ef\u64ad\u653e\u7684\u5e7f\u544a\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5!",icon:"none",duration:2500}),b(),void t("\u6682\u65f6\u6ca1\u6709\u53ef\u64ad\u653e\u7684\u5e7f\u544a\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5!");cc.game.pause(),m.show().then(function(){m.onClose(function(o){cc.game.resume(),o&&o.isEnded||void 0===o?(console.log("\u64ad\u653e\u5b8c\u6210\u5173\u95ed"),e(0)):(console.log("\u4e2d\u9014\u5173\u95ed\u64ad\u653e"),wx.showToast({title:"\u5b8c\u6574\u89c2\u770b\u89c6\u9891\u624d\u80fd\u83b7\u5f97\u5956\u52b1\u54e6",icon:"none",duration:2500}),t("\u5b8c\u6574\u89c2\u770b\u89c6\u9891\u624d\u80fd\u83b7\u5f97\u5956\u52b1\u54e6"))})}).catch(function(){console.log("show catch"),g||(wx.showToast({title:"\u6682\u65f6\u6ca1\u6709\u53ef\u64ad\u653e\u7684\u5e7f\u544a\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5!",icon:"none",duration:2500}),m.load(),t("\u6682\u65f6\u6ca1\u6709\u53ef\u64ad\u653e\u7684\u5e7f\u544a\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5!")),cc.game.resume()})})},o.openShare=function(){wx.showShareMenu&&(wx.showShareMenu({withShareTicket:!0,menus:["shareAppMessage","shareTimeline"]}),wx.onShareAppMessage(function(){return{title:i.default.getRandomTitle(),imageUrl:i.default.getRandomImageUrl()}}),wx.onShareTimeline&&wx.onShareTimeline(function(){return{title:i.default.getRandomTitle(),imageUrl:i.default.getRandomImageUrl()}}))},o.showTips=_,o.showShare=function(e,t){wx.shareAppMessage({title:i.default.getRandomTitle(),imageUrl:+i.default.getRandomImageUrl()}),a=e,c=t,A=!0,r=Date.now()},o.showModal=function(e,t,o,n){wx.showModal({title:e,content:t,success:function(e){e.confirm?o&&o():e.cancel&&n&&n()}})},o.vibrateLong=function(){wx.vibrateLong({success:function(e){console.log(""+e)},fail:function(){console.log("vibrateLong\u8c03\u7528\u5931\u8d25")}})},o.vibrateShort=function(){wx.vibrateShort({success:function(e){console.log(""+e)},fail:function(){console.log("vibrateLong\u8c03\u7528\u5931\u8d25")}})},o.getSystemInfoSync=function(){try{return wx.getSystemInfoSync()}catch(e){console.log("getSystemInfoSync fail")}},o.getSystemInfo=function(e){wx.getSystemInfo({success:function(){e.success()},fail:function(){e.fail&&e.fail()},complete:function(){e.complete&&e.complete()}})},o.toMiniGame=function(e){wx.navigateToMiniProgram({appId:e,path:"",extraData:{time:(new Date).valueOf()},success:function(){}})},o.onHide=function(e){wx.onHide(function(){e()})},o.onShow=function(e){wx.onShow(function(){e()})},o.login=function(){return new Promise(function(e,t){wx.login({timeout:3e3,success:function(o){o.code?e(o.code):t("\u672a\u83b7\u53d6\u5230code")},fail:function(e){t(e)}})})},o.loadSubpackage=function(e){return new Promise(function(t,o){wx.loadSubpackage({name:e,success:function(){console.log("\u5fae\u4fe1\u52a0\u8f7d\u5206\u5305====> \u6210\u529f","\u5206\u5305\u540d:"+e),t(0)},fail:function(t){console.log("\u5fae\u4fe1\u52a0\u8f7d\u5206\u5305====> \u5931\u8d25","\u5206\u5305\u540d:"+e,"err = "+t),o()}})})},o.downImageFile=function(e){for(var t=""+wx.env.USER_DATA_PATH,o=e.split("resource/")[1];-1!=o.indexOf("/");){var n=o.indexOf("/"),r=o.substring(0,n),a=o.substring(n+1,o.length);o=r+"-"+a}var c=t+"/"+o,i=wx.getFileSystemManager();return new Promise(function(t,o){i.stat({path:c,success:function(e){e.stats.isDirectory(),e.stats.isFile()&&t(c)},fail:function(){wx.downloadFile({url:e,success:function(e){wx.saveFile({tempFilePath:e.tempFilePath,filePath:c,success:function(){console.log("\u4fdd\u5b58\u5230\u672c\u5730!!!"),t(c)},fail:function(){o("\u6587\u4ef6\u4fdd\u5b58\u5931\u8d25!")}})},fail:function(){o("\u6587\u4ef6\u4e0b\u8f7d\u5931\u8d25!")}})}})})},o.removeDownloadFile=function(e){for(var t=""+wx.env.USER_DATA_PATH,o=e.split("resource/")[1];-1!=o.indexOf("/");){var n=o.indexOf("/"),r=o.substring(0,n),a=o.substring(n+1,o.length);o=r+"-"+a}var c=t+"/"+o,i=wx.getFileSystemManager();return new Promise(function(t,o){i.stat({path:c,success:function(n){n.stats.isFile()&&(i.unlink({filePath:c,success:function(){console.log("\u5220\u9664\u672c\u5730\u56fe\u7247\u6210\u529f!!!!!",e),t(0)},fail:function(){o()}}),t(c))},fail:function(){console.log("\u672c\u5730\u56fe\u7247\u4e0d\u5b58\u5728",e),t(0)}})})},cc._RF.pop()},{"../ShareTitle":"ShareTitle"}]},{},["android","ios","ks","meizu","oppo","qq","toutiao","vivo","web","wechat","NativeBridge","ShareTitle","config","localStorage","Game","SceneBattle","SceneLoading","SceneMain","ButtonBackMain","DataManager","PoolManager","ResourcesManager","SceneManager","ToolManager","layer_game_over","layer_select_lesson","layer_unlock_role","Student"]);